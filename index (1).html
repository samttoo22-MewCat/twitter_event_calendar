<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=3.0">
    <title>Âè∞‰∏≠BDSMË°å‰∫ãÊõÜ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
    background: radial-gradient(circle at 20% 80%, rgba(220, 20, 60, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0, 52, 148, 0.15) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.08) 0%, transparent 50%), linear-gradient(135deg, #001f3f 0%, #003366 25%, #0047AB 50%, #4169E1 75%, #6495ED 100%);
}

        body::before {
    background: radial-gradient(circle at 15% 25%, rgba(220, 20, 60, 0.1) 0%, transparent 25%), radial-gradient(circle at 85% 75%, rgba(0, 52, 148, 0.1) 0%, transparent 25%), radial-gradient(circle at 50% 10%, rgba(255, 255, 255, 0.06) 0%, transparent 30%);
}

        .container {
    background: radial-gradient(circle at 30% 20%, rgba(220, 20, 60, 0.08) 0%, transparent 40%), radial-gradient(circle at 70% 80%, rgba(0, 52, 148, 0.06) 0%, transparent 35%), linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 249, 255, 0.98) 100%);
    box-shadow: 0 10px 30px rgba(220, 20, 60, 0.3);
    border: 1px solid rgba(220, 20, 60, 0.4);
}

        .header {
            background: 
                
                
                
                radial-gradient(ellipse at 25% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 50%), radial-gradient(ellipse at 75% 70%, rgba(220, 20, 60, 0.2) 0%, transparent 45%), linear-gradient(135deg, #DC143C, #C41E3A, #B22222);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                
                
                
                repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(255, 255, 255, 0.15) 8px, rgba(255, 255, 255, 0.15) 16px), repeating-linear-gradient(-45deg, transparent, transparent 12px, rgba(0, 52, 148, 0.12) 12px, rgba(0, 52, 148, 0.12) 24px);
            pointer-events: none;
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 8px;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .header .subtitle:hover {
            opacity: 1;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .header p:hover {
            opacity: 1;
            text-decoration: underline;
        }

        .update-info {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: none;
        }

        .update-info-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .update-info-title::before {
            content: "üìÖ";
            font-size: 1.1rem;
        }

        .update-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .update-item {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.95rem;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .update-item:last-child {
            border-bottom: none;
        }

        .update-date {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            white-space: nowrap;
        }

        .update-content {
            flex: 1;
        }

        .legend {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .legend-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: default;
        }

        .category-legend {
            padding: 15px;
            background: #f0f8ff;
            border-bottom: 1px solid #e9ecef;
        }

        .category-legend-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
            cursor: default;
        }

        .category-legend-title::before {
            content: "";
            font-size: 1.1rem;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .category-legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            padding: 5px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            user-select: none;
        }

        .legend-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .legend-item:active {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .category-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            padding: 5px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            user-select: none;
        }

        .category-legend-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .category-legend-item:active {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .venue-checkbox {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            cursor: pointer;
        }

        .category-checkbox {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            cursor: pointer;
        }

        .legend-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .category-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .venue-link {
            color: #3498db;
            text-decoration: underline;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .venue-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        .calendar-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .nav-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            min-width: 80px;
        }

        .nav-button:hover {
            background: linear-gradient(135deg, #2980b9, #21618c);
            transform: translateY(-1px);
        }

        .nav-button:active {
            transform: translateY(0);
        }

        .nav-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .month-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .calendar-container {
            overflow: hidden;
            position: relative;
            min-height: 600px;
        }

        .calendar-slider {
            display: flex;
            transition: transform 0.3s ease;
            width: auto;
            min-height: 600px;
            align-items: flex-start;
        }

        .calendar-month {
            width: 100%;
            flex-shrink: 0;
            min-height: 600px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e9ecef;
            padding: 15px 10px;
        }

        .day-header {
    background: radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.2) 0%, transparent 60%), linear-gradient(135deg, #003DA5, #0047AB, #4169E1);
}

        .day-header::before {
    background: repeating-linear-gradient(90deg, transparent, transparent 4px, rgba(255, 255, 255, 0.2) 4px, rgba(255, 255, 255, 0.2) 8px);
}

        .day-cell {
    background: radial-gradient(circle at 20% 20%, rgba(220, 20, 60, 0.05) 0%, transparent 40%), radial-gradient(circle at 80% 80%, rgba(0, 52, 148, 0.04) 0%, transparent 35%), linear-gradient(135deg, #FFFFFF, #F8F9FF);
    border: 1px solid rgba(0, 52, 148, 0.25);
}

        .day-cell::before {
    background: repeating-linear-gradient(30deg, transparent, transparent 15px, rgba(220, 20, 60, 0.03) 15px, rgba(220, 20, 60, 0.03) 30px);
}

        .day-cell:active {
            transform: scale(0.98);
        }

        .day-number {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 6px;
            text-align: center;
        }

        .event {
            background: #3498db;
            color: white;
            padding: 4px 6px;
            margin: 3px 0;
            border-radius: 4px;
            font-size: 0.7rem;
            line-height: 1.3;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            word-break: break-word;
            -webkit-tap-highlight-color: rgba(0,0,0,0.1);
        }

        .event:active {
            transform: scale(0.95);
            opacity: 0.8;
        }

        .event.jukuya { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .event.toyroom { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .event.gengyiroom { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .event.think { background: linear-gradient(135deg, #2ecc71, #27ae60); }
        .event.zoo { background: linear-gradient(135deg, #34495e, #2c3e50); }
        .event.other { background: linear-gradient(135deg, #7f8c8d, #95a5a6); }

        .event-venue {
            font-weight: bold;
            font-size: 0.65rem;
            opacity: 0.9;
            margin-bottom: 1px;
        }

        .event-title {
            margin: 1px 0;
            font-size: 0.7rem;
        }

        .event-time {
            font-size: 0.6rem;
            opacity: 0.8;
            margin-top: 1px;
        }

        .today {
            background: 
                
                
                radial-gradient(circle at 30% 30%, rgba(135, 206, 235, 0.3) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(173, 216, 230, 0.25) 0%, transparent 45%), linear-gradient(135deg, #B0E0E6, #87CEEB) !important;
            border: 3px solid #4682B4;
            box-shadow: 0 0 15px rgba(135, 206, 235, 0.6);
        }

        .past-day {
            opacity: 0.6;
        }

        .past-day .day-number {
            color: #999;
        }

        .event.past {
            background: #999 !important;
            color: #ccc !important;
            cursor: not-allowed;
        }

        .event.past:hover {
            transform: none;
            box-shadow: none;
        }

        .event.past:active {
            transform: none;
            opacity: 1;
        }

        .register-icon {
            position: absolute;
            top: 2px;
            right: 2px;
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            border-radius: 50%;
            width: 14px;
            height: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            overflow-y: auto;
        }

        .age-verification-modal {
            display: flex;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
        }

        .age-verification-content {
            background: white;
            padding: 40px 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .age-verification-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .age-verification-text {
            font-size: 1.1rem;
            color: #34495e;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .age-verification-disclaimer {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #3498db;
        }

        .age-verification-disclaimer p {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
            line-height: 1.4;
        }

        .age-verification-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .age-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 120px;
        }

        .age-btn-yes {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .age-btn-yes:hover {
            background: linear-gradient(135deg, #27ae60, #229954);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .age-btn-no {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .age-btn-no:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .age-btn:active {
            transform: scale(0.98);
        }

        .modal-content {
            background: white;
            margin: 20px auto;
            padding: 25px 20px;
            border-radius: 12px;
            width: calc(100% - 40px);
            max-width: 400px;
            position: relative;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .close {
            position: absolute;
            right: 15px;
            top: 10px;
            font-size: 28px;
            cursor: pointer;
            color: #aaa;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close:active {
            background: #f0f0f0;
            color: #333;
        }

        .register-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: bold;
            transition: all 0.2s ease;
            margin-top: 15px;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        .register-button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .register-button.disabled {
            background: #999 !important;
            color: #ccc !important;
            cursor: not-allowed;
            pointer-events: none;
        }

        .register-button.pending {
            background: #95a5a6 !important;
            color: white !important;
        }

        .register-button.disabled:active {
            transform: none;
            opacity: 1;
        }

        .event-category-tag {
            display: inline-block;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        /* Êõ¥‰∏çÈ°ØÁúºÁöÑ‰∏≠ÊÄßÂàÜÈ°ûÁ±§ÔºàÁî®ÊñºÊó•ÊõÜÂç°ÁâáÔºâ */
        .event-category-chip {
            display: inline-block;
            background: #f1f3f5;
            color: #666;
            padding: 1px 4px;
            border-radius: 8px;
            font-size: 0.55rem;
            font-weight: normal;
            margin-left: 4px;
            line-height: 1.2;
        }

        .error-report {
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 20px;
            text-align: center;
        }

        .error-report-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .error-report-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }

        .error-report-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: bold;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .error-report-button:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .error-report-button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }


        .friend-links {
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 20px;
            text-align: center;
        }

        .friend-links-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .friend-links-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .friend-link {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255, 140, 0, 0.25) 0%, transparent 45%),
                radial-gradient(circle at 70% 70%, rgba(255, 165, 0, 0.2) 0%, transparent 40%),
                linear-gradient(135deg, #ff8c00, #ffa500, #ffb347);
            color: #3b2500;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 24px 24px 18px 18px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            transition: all 0.2s ease;
            box-shadow: 0 6px 16px rgba(255, 140, 0, 0.28);
            -webkit-tap-highlight-color: transparent;
            position: relative;
            border: 2px solid rgba(139, 69, 19, 0.25);
        }

        .friend-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 22px rgba(255, 140, 0, 0.35);
            filter: brightness(1.02);
        }

        .friend-link:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        /* ÂçóÁìúÊ¢ùÁ¥ãËàáÊ¢ó */
        .friend-link::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 24px 24px 18px 18px;
            background-image:
                radial-gradient(ellipse at 20% 50%, rgba(139, 69, 19, 0.16) 0%, rgba(139, 69, 19, 0.0) 55%),
                radial-gradient(ellipse at 50% 50%, rgba(139, 69, 19, 0.2) 0%, rgba(139, 69, 19, 0.0) 60%),
                radial-gradient(ellipse at 80% 50%, rgba(139, 69, 19, 0.16) 0%, rgba(139, 69, 19, 0.0) 55%);
            pointer-events: none;
        }

        .friend-link::after {
            content: '';
            position: absolute;
            top: -8px;
            width: 18px;
            height: 14px;
            border-radius: 6px 6px 10px 10px;
            background: linear-gradient(180deg, #3e7a2a, #2e5e20);
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 2px 0 rgba(0, 0, 0, 0.08);
        }

        .friend-link-icon { color: #2e1a00; }
        .friend-link-text { color: #2e1a00; text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4); }

        .friend-link-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .friend-link-text {
            font-size: 0.9rem;
            font-weight: bold;
            text-align: center;
        }

        .floating-error-button {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
        }

        /* Á•û‰æÜ‰∏ÄÂ†¥ÔºöÁΩÆÊñºÈåØË™§ÂõûÂ†±Ê≥°Ê≥°‰∏äÊñπ */
        .floating-random-button {
            position: fixed;
            bottom: 160px; /* È´òÊñºÈåØË™§ÂõûÂ†±(100px) */
            right: 20px;
            z-index: 1000;
        }

        /* Á•û‰æÜ‰∏ÄÂ†¥ÊåâÈàïÈÖçËâ≤ÔºàÁ≤âÁ¥´Ëâ≤Á≥ªÔºâ */
        .random-button {
            background: linear-gradient(135deg, #ff8ab8, #8e44ad);
        }
        .random-button:hover {
            background: linear-gradient(135deg, #ff5fa2, #7d3c98);
        }

        /* Á•û‰æÜ‰∏ÄÂ†¥ÔºöÈÅøÂÖçÈÄ£ÈªûÁöÑÂÅúÁî®Ê®£Âºè */
        .random-button.disabled {
            pointer-events: none;
            filter: grayscale(20%);
            opacity: 0.85;
        }

        /* ÊäΩÁ±§ÂãïÁï´ÈÅÆÁΩ©ËàáÈ™∞Â≠ê */
        .random-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.55);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3500;
        }
        .random-dice {
            font-size: 3rem;
            width: 72px;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ff8ab8, #8e44ad);
            color: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
            animation: diceSpin 1.2s ease-in-out infinite;
        }
        @keyframes diceSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.08); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .floating-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            animation: float 3s ease-in-out infinite;
        }

        /* ÊèêÂçáÁ•û‰æÜ‰∏ÄÂ†¥ÊåâÈàïÁöÑËÉåÊôØÂÑ™ÂÖàÂ∫¶ÔºåÈÅøÂÖçË¢´ .floating-button Ë¶ÜËìã */
        .floating-button.random-button {
            background: linear-gradient(135deg, #ff8ab8, #8e44ad) !important;
            z-index: 1;
        }
        .floating-button.random-button:hover {
            background: linear-gradient(135deg, #ff5fa2, #7d3c98) !important;
        }
        
        .floating-button:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .floating-button:active {
            transform: scale(0.95);
        }

        .floating-button-icon {
            font-size: 1.2rem;
        }

        .floating-button-text {
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        /* Ëê¨ËÅñÁØÄÔºöÂÉÖÂπΩÈùàÔºåÈö®Ê©üÂÖ®Ëû¢ÂπïÁßªÂãïËàáÊ∑°ÂÖ•Ê∑°Âá∫ */
        .halloween-decoration {
            position: fixed;
            font-size: 2rem;
            z-index: 1;
            pointer-events: none;
            opacity: 0;
            transition: transform 6s ease-in-out, opacity 3s ease-in-out;
            will-change: transform, opacity;
        }
        .ghost { text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        .updates-toggle-btn {
            margin-top: 10px;
            background: linear-gradient(135deg, #6c757d, #495057);
            color: #ffffff;
            border: none;
            padding: 8px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            transition: all 0.2s ease;
            display: none;
        }

        .updates-toggle-btn:hover {
            background: linear-gradient(135deg, #495057, #343a40);
            transform: translateY(-1px);
        }

        /* ÊâãÊ©üÊ©´ÂêëÊ®°ÂºèÂÑ™ÂåñÔºàÁõ¥ÂêëÈôêÂÆöÔºâ */
        @media (max-width: 768px) and (orientation: portrait) {
            body {
                padding: 5px;
                font-size: 13px;
            }
            
            .calendar-container {
                min-height: 500px;
            }
            
            .calendar-slider {
                min-height: 500px;
            }
            
            .calendar-month {
                min-height: 500px;
            }
            
            .calendar-grid {
                padding: 10px 5px;
                min-height: 500px;
            }
            
            .day-cell {
                min-height: 120px;
                padding: 5px 4px;
            }
            
            .day-header {
                padding: 10px 3px;
                font-size: 0.8rem;
            }
            
            .event {
                font-size: 0.65rem;
                padding: 3px 4px;
                margin: 2px 0;
            }
            
            .event-venue {
                font-size: 0.6rem;
            }
            
            .event-title {
                font-size: 0.65rem;
            }
            
            .event-time {
                font-size: 0.55rem;
            }

            /* ÊâãÊ©üÔºöÈö±ËóèÊó•ÊõÜÂç°Áâá‰∏äÁöÑÂàÜÈ°ûÁ±§ÔºåÈÅøÂÖçÊìÅÊì†Ôºà‰∏çÂΩ±ÈüøÂΩàÁ™óÂÖßÁöÑ .event-category-tagÔºâ */
            .event-category-chip {
                display: none !important;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header .subtitle {
                font-size: 0.8rem;
            }

            .header p {
                font-size: 0.85rem;
            }

            .legend {
                padding: 12px;
            }

            .legend-items {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .legend-item {
                font-size: 0.8rem;
            }

            /* ÊâãÊ©üÔºöÂúñ‰æãÊ®ôÈ°åÂèØÈªûÊìäÊäòÁñä */
            .legend-title,
            .category-legend-title {
                cursor: pointer;
                user-select: none;
            }

            /* ÊäòÁñäÁãÄÊÖãÈö±ËóèÂÖßÂÆπ */
            .legend.collapsed .legend-items {
                display: none;
            }
            .category-legend.collapsed .category-legend-items {
                display: none;
            }

            /* Âè≥ÂÅ¥Âä†ÂÖ•ÔºãÔºèÔºçÊèêÁ§∫ */
            .legend-title::after,
            .category-legend-title::after {
                content: 'Ôºç';
                font-weight: 700;
                margin-left: auto;
                color: #495057;
            }
            .legend.collapsed .legend-title::after,
            .category-legend.collapsed .category-legend-title::after {
                content: 'Ôºã';
            }

            .category-legend {
                padding: 12px;
            }

            .category-legend-items {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .category-legend-item {
                font-size: 0.8rem;
            }

            .calendar-navigation {
                padding: 10px 15px;
            }

            .nav-button {
                padding: 8px 12px;
                font-size: 0.8rem;
                min-width: 60px;
            }

            .month-title {
                font-size: 1.1rem;
            }

            .update-info {
                padding: 15px;
            }

            .update-info-title {
                font-size: 1.1rem;
            }

            .update-item {
                font-size: 0.9rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .update-date {
                font-size: 0.75rem;
            }

            .error-report {
                padding: 15px;
            }

            .error-report-title {
                font-size: 1rem;
            }

            .error-report-subtitle {
                font-size: 0.85rem;
            }

            .error-report-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .friend-links {
                padding: 15px;
            }

            .friend-links-title {
                font-size: 1rem;
            }

            .friend-links-container {
                gap: 10px;
            }

            .friend-link {
                padding: 12px 15px;
                min-width: 100px;
            }

            .friend-link-icon {
                font-size: 1.3rem;
            }

            .friend-link-text {
                font-size: 0.8rem;
            }

            .floating-error-button {
                bottom: 80px;
                right: 15px;
            }

            .floating-random-button {
                bottom: 140px;
                right: 15px;
            }

            .floating-button {
                padding: 12px 16px;
                gap: 8px;
            }

            .floating-button-icon {
                font-size: 1.1rem;
            }

            .floating-button-text {
                font-size: 0.8rem;
            }
        }

        /* Â∞èËû¢ÂπïÊâãÊ©üÂÑ™Âåñ */
        @media (max-width: 480px) {
            .age-verification-content {
                padding: 30px 20px;
                margin: 20px 10px;
            }

            .age-verification-title {
                font-size: 1.5rem;
            }

            .age-verification-text {
                font-size: 1rem;
            }

            .age-verification-buttons {
                flex-direction: column;
                align-items: center;
            }

            .age-btn {
                width: 100%;
                max-width: 200px;
            }

            .calendar-container {
                min-height: 450px;
            }
            
            .calendar-slider {
                min-height: 450px;
            }
            
            .calendar-month {
                min-height: 450px;
            }
            
            .calendar-grid {
                min-height: 450px;
            }

            .day-cell {
                min-height: 100px;
                padding: 4px 3px;
            }
            
            .event {
                font-size: 0.6rem;
                padding: 2px 3px;
            }
            
            .event-venue {
                font-size: 0.55rem;
            }
            
            .event-title {
                font-size: 0.6rem;
            }
            
            .event-time {
                font-size: 0.5rem;
            }

            .day-header {
                padding: 8px 2px;
                font-size: 0.75rem;
            }

            .modal-content {
                margin: 10px;
                width: calc(100% - 20px);
                padding: 20px 15px;
            }

            .friend-links {
                padding: 12px;
            }

            .friend-links-container {
                flex-direction: row;
                justify-content: flex-start;
                gap: 4px;
                flex-wrap: wrap;
                max-width: 75%;
                margin: 0;
                padding-left: 10px;
            }

            .friend-link {
                flex: 0 0 calc(25% - 3px);
                min-width: 0;
                max-width: calc(25% - 3px);
                padding: 6px 4px;
                flex-direction: column;
                justify-content: center;
                gap: 3px;
            }

            .friend-link-icon {
                font-size: 0.8rem;
                margin-bottom: 0;
            }

            .friend-link-text {
                font-size: 0.6rem;
                text-align: center;
                line-height: 1.0;
            }

            /* Â∞èËû¢ÂπïÂêåÊ®£ÊîØÊè¥ÊäòÁñä */
            .legend-title,
            .category-legend-title {
                cursor: pointer;
                user-select: none;
            }
            .legend.collapsed .legend-items {
                display: none;
            }
            .category-legend.collapsed .category-legend-items {
                display: none;
            }
            .legend-title::after,
            .category-legend-title::after {
                content: 'Ôºç';
                font-weight: 700;
                margin-left: auto;
                color: #495057;
            }
            .legend.collapsed .legend-title::after,
            .category-legend.collapsed .category-legend-title::after {
                content: 'Ôºã';
            }

            .floating-error-button {
                bottom: 80px;
                right: 15px;
            }

            .floating-random-button {
                bottom: 140px; /* ‰∫¶Áõ∏Â∞çÊä¨È´òÊñºÈåØË™§ÂõûÂ†± */
                right: 15px;
            }

            .floating-button {
                padding: 10px 14px;
                gap: 6px;
            }

            .floating-button-icon {
                font-size: 1rem;
            }

            .floating-button-text {
                font-size: 0.75rem;
            }
        }

        /* Ëß∏ÊéßÂÑ™Âåñ */
        @media (hover: none) and (pointer: coarse) {
            .event:hover {
                transform: none;
                box-shadow: none;
            }
            
            .day-cell:hover {
                transform: none;
                box-shadow: none;
            }

            .nav-button {
                display: none;
            }

            .error-report-button:hover {
                transform: none;
                box-shadow: none;
            }

            .friend-link:hover {
                transform: none;
                box-shadow: 0 4px 12px rgba(52, 152, 219, 0.2);
            }

            .floating-button:hover {
                transform: none;
                box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
            }

            .floating-button {
                animation: none;
            }
        }

        /* Á¢∫‰øùÊñáÂ≠óÂèØËÆÄÊÄß */
        @media (prefers-color-scheme: dark) {
            .modal-content {
                background: #1a1a1a;
                color: #ffffff;
            }
            
            .close {
                color: #cccccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÉÂè∞‰∏≠BDSMË°å‰∫ãÊõÜüéÉ</h1>
            <div class="subtitle" id="randomSubtitle">Ëæ≤Ê∞ëÊõÜË™™‰ªäÊó•ÂÆúSP</div>
            <p onclick="toggleUpdateInfo()">ÊúÄÂæåÊõ¥Êñ∞Êó•Ôºö2025.10.03(ÈªûÊàëÊü•Áúã)</p>
        </div>

        <div class="update-info" id="updateInfo">
            <div class="update-info-title">Êõ¥Êñ∞Ë≥áË®ä</div>
            <ul class="update-list">
                <li class="update-item">
                    <span class="update-date">10/3</span>
                    <span class="update-content">‚úîÔ∏èÊñ∞Â¢ûÊ¥ªÂãï<br>üè∑Ô∏èÊ®ôÁ±§ÁèæÂú®ÊúÉÈ°ØÁ§∫Âú®Êó•ÊõÜ‰∏≠(ÊâãÊ©üÁâàÁÇ∫ÁâàÈù¢Êï¥ÊΩî‰∏çÊúÉÈ°ØÁ§∫)<br>ü™¢Ê¥ªÂãïÁèæÂ∑≤ÈáçÊñ∞ÂàÜÈ°ûÈÅé„ÄÅ‰∏¶Êñ∞Â¢ûÁπ©Á∏õÂ∞àÂ±¨ÂàÜÈ°û</span>
                </li>
                <li class="update-item">
                    <span class="update-date">10/2</span>
                    <span class="update-content">Ëê¨ËÅñÁØÄË£ùÈ£æÊõ¥Êñ∞üéÉ„ÄÅÂãïÊñπ10ÊúàÊ¥ªÂãïÊõ¥Êñ∞„ÄÅÂàÜÈ°ûÂäüËÉΩ</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/25</span>
                    <span class="update-content">10ÊúàÊ¥ªÂãï„ÄÅÂç≥Â∞áÂä†ÂÖ•ÔºöÂàÜÈ°û+Ëá™ÂãïÂ∞éÂÖ•ÂäüËÉΩ</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/20</span>
                    <span class="update-content">ÈåØË™§ÂõûÂ†±ÊîπÁÇ∫Ê∞£Ê≥°È°ØÁ§∫„ÄÅÁ∂≤È†ÅÂ∫ïÈÉ®Âä†ÂÖ•ÂèãÊÉÖÈÄ£ÁµêÂ∑•ÂÖ∑ÊåâÈàï</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/15</span>
                    <span class="update-content">Ê¥ªÂãïÂàäË™§Êõ¥Êñ∞(<a href="javascript:void(0)" onclick="showErrorCorrectionModal()" style="color: #3498db; text-decoration: underline; cursor: pointer;">ÈªûÊàëÊü•Èñ±</a>)„ÄÅÂãïÊñπÊ¥ªÂãïË°®ÂñÆÈÄ£ÁµêÊõ¥Êñ∞</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/3</span>
                    <span class="update-content">Ê∑ªÂä†Êñ∞Ê¥ªÂãï<br>Êñ∞Â¢û"ÂÖ∂‰ªñ"ÈùûÁâπÂÆö‰∏ªËæ¶ÊñπÈÅ∏È†Ö<br>ÊÄùÂÆòÊñπÂ∑≤ÂÖ¨ÂëäÔºåÊú¨Êúà‰∏çÊúÉÊúâÊ¥ªÂãï(<a href="https://x.com/s9808191779632/status/1962884105189957860" target="_blank" style="color: #3498db; text-decoration: underline;">ÈªûÊàëÊü•Áúã</a>)</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/2</span>
                    <span class="update-content">Ê∑ªÂä†9ÊúàÁé©ÂÖ∑ÈñìÊ¥ªÂãï<br>ÁèæÂú®ÈªûÊìä‰∏ªËæ¶ÊñπÂêçÁ®±ÂèØÂâçÂæÄÂÖ∂ÂÆòÊñπÁ∂≤Á´ô<br>Êñ∞Â¢ûÊõ¥Êñ∞Âêé‰∏âÂ§©ÈÄ≤ÂÖ•Á∂≤Á´ôÊúÉÈ°ØÁ§∫Êõ¥Êñ∞ÊèêÁ§∫<br>ÁèæÂú®ÈÄ≤ÂÖ•Á∂≤Á´ôÊúÉÁõ¥Êé•È°ØÁ§∫Áï∂Â§©ÁöÑÊúà‰ªΩ</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/26</span>
                    <span class="update-content">Êõ¥Êñ∞ÂãïÁâ©ÊñπÁ®ãÂºè8/31Ê¥ªÂãï</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/24</span>
                    <span class="update-content">Êõ¥Êñ∞9ÊúàÈÉ®ÂàÜÊ¥ªÂãï</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/20</span>
                    <span class="update-content">Êñ∞Â¢ûÊ¥ªÂãï</span>
                </li>
            </ul>
            <button id="updatesToggleBtn" class="updates-toggle-btn">Êõ¥Â§öÊõ¥Êñ∞Ë≥áË®ä</button>
        </div>

        <div class="legend">
            <div class="legend-title">Â†¥Âú∞Âúñ‰æã - ÈªûÊìäÂàáÊèõÈ°ØÁ§∫</div>
            <div class="legend-items">
                <div class="legend-item" data-venue="jukuya" onclick="toggleVenue('jukuya')">
                    <input type="checkbox" class="venue-checkbox" id="jukuya-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('jukuya', event)">Êãò‰πÖÂ±ã</span>
                </div>
                <div class="legend-item" data-venue="toyroom" onclick="toggleVenue('toyroom')">
                    <input type="checkbox" class="venue-checkbox" id="toyroom-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('toyroom', event)">Áé©ÂÖ∑Èñì</span>
                </div>
                <div class="legend-item" data-venue="gengyiroom" onclick="toggleVenue('gengyiroom')">
                    <input type="checkbox" class="venue-checkbox" id="gengyiroom-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('gengyiroom', event)">Êõ¥Ë°£Èñì</span>
                </div>
                <div class="legend-item" data-venue="think" onclick="toggleVenue('think')">
                    <input type="checkbox" class="venue-checkbox" id="think-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #2ecc71, #27ae60);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('think', event)">ÊÄù</span>
                </div>
                <div class="legend-item" data-venue="zoo" onclick="toggleVenue('zoo')">
                    <input type="checkbox" class="venue-checkbox" id="zoo-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #34495e, #2c3e50);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('zoo', event)">ÂãïÁâ©ÊñπÁ®ãÂºè</span>
                </div>
                <div class="legend-item" data-venue="other" onclick="toggleVenue('other')">
                    <input type="checkbox" class="venue-checkbox" id="other-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #7f8c8d, #95a5a6);"></div>
                    <span class="venue-link">ÂÖ∂‰ªñ</span>
                </div>
            </div>
        </div>

        <div class="category-legend">
            <div class="category-legend-title">Ê¥ªÂãïÂàÜÈ°û - ÈªûÊìäÂàáÊèõÈ°ØÁ§∫(ÂÉÖ‰æõÂèÉËÄÉ)</div>
            <div class="category-legend-items">
                <div class="category-legend-item" data-category="sp" onclick="toggleCategory('sp')">
                    <input type="checkbox" class="category-checkbox" id="sp-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"></div>
                    <span>SP</span>
                </div>
                <div class="category-legend-item" data-category="bd" onclick="toggleCategory('bd')">
                    <input type="checkbox" class="category-checkbox" id="bd-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #8e44ad, #9b59b6);"></div>
                    <span>ÊùüÁ∏õ</span>
                </div>
                <div class="category-legend-item" data-category="bds" onclick="toggleCategory('bds')">
                    <input type="checkbox" class="category-checkbox" id="bds-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #d2b48c, #a67c52);"></div>
                    <span>Áπ©Á∏õ</span>
                </div>
                <div class="category-legend-item" data-category="so" onclick="toggleCategory('so')">
                    <input type="checkbox" class="category-checkbox" id="so-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #2ecc71, #27ae60);"></div>
                    <span>‰∫§ÊµÅ</span>
                </div>
                <div class="category-legend-item" data-category="wk" onclick="toggleCategory('wk')">
                    <input type="checkbox" class="category-checkbox" id="wk-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>
                    <span>Â∑•‰ΩúÂùä</span>
                </div>
                <div class="category-legend-item" data-category="ss" onclick="toggleCategory('ss')">
                    <input type="checkbox" class="category-checkbox" id="ss-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #34495e, #2c3e50);"></div>
                    <span>ÁâπÊÆä‰∏ªÈ°å</span>
                </div>
                <div class="category-legend-item" data-category="hy" onclick="toggleCategory('hy')">
                    <input type="checkbox" class="category-checkbox" id="hy-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #ff8ab8, #ff5fa2);"></div>
                    <span>ÂÇ¨Áú†</span>
                </div>
                <div class="category-legend-item" data-category="or" onclick="toggleCategory('or')">
                    <input type="checkbox" class="category-checkbox" id="or-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #7f8c8d, #95a5a6);"></div>
                    <span>ÂÖ∂‰ªñ</span>
                </div>
            </div>
        </div>

        <div class="calendar-navigation">
            <button class="nav-button" id="prevBtn" onclick="changeMonth(-1)">
                ‚Üê ‰∏äÂÄãÊúà
            </button>
            <div class="month-title" id="monthTitle">2025Âπ¥8Êúà</div>
            <button class="nav-button" id="nextBtn" onclick="changeMonth(1)">
                ‰∏ãÂÄãÊúà ‚Üí
            </button>
        </div>

        <div class="calendar-container" id="calendarContainer">
            <div class="calendar-slider" id="calendarSlider">
                <!-- Calendar months will be dynamically generated by JavaScript -->
            </div>
        </div>

        <div class="friend-links">
            <div class="friend-links-title">ÂèãÊÉÖÈÄ£Áµê</div>
            <div class="friend-links-container">
                <a href="https://the-potion.com/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">üß™</div>
                    <div class="friend-link-text">BDSMÊ∏¨È©ó</div>
                </a>
                <a href="https://tompuppy444.github.io/Kinkty-Demo1.0.0/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">üîß</div>
                    <div class="friend-link-text">KinktyÂ∞èÂ∑•ÂÖ∑</div>
                </a>
                <a href="https://spanksystem.pages.dev/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">üéØ</div>
                    <div class="friend-link-text">SPÁ≥ªÁµ±</div>
                </a>
                <a href="https://bdsmxqr.yay.boo/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">üì±</div>
                    <div class="friend-link-text">Êé®ÁâπQRÁî¢ÁîüÂô®</div>
                </a>
            </div>
        </div>
    </div>

    <!-- Á•û‰æÜ‰∏ÄÂ†¥ÊµÆÂãïÊåâÈàïÔºàÁΩÆÊñºÈåØË™§ÂõûÂ†±Ê≥°Ê≥°‰∏äÊñπÔºâ -->
    <div class="floating-random-button">
        <a href="javascript:void(0)" class="floating-button random-button" onclick="triggerRandomEvent()">
            <div class="floating-button-icon">üé≤</div>
            <div class="floating-button-text">Á•û‰æÜ‰∏ÄÂ†¥</div>
        </a>
    </div>

    <!-- Âõ∫ÂÆöÈåØË™§ÂõûÂ†±Ê∞£Ê≥°ÁêÉÊåâÈàï -->
    <div class="floating-error-button">
        <a href="https://x.com/WhatSub_PK" target="_blank" class="floating-button">
            <div class="floating-button-icon">üì±</div>
            <div class="floating-button-text">ÈåØË™§ÂõûÂ†±</div>
        </a>
    </div>

    <!-- Âπ¥ÈΩ°È©óË≠âÂΩàÁ™ó -->
    <!-- Ëê¨ËÅñÁØÄË£ùÈ£æÂÖÉÁ¥†ÂÆπÂô® -->
    <div id="halloweenDecorations"></div>

    <div id="ageVerificationModal" class="age-verification-modal">
        <div class="age-verification-content">
            <div class="age-verification-title">Âπ¥ÈΩ°Á¢∫Ë™ç</div>
            <div class="age-verification-text">
                ÊÇ®ÊòØÂê¶Â∑≤Âπ¥Êªø18Ê≠≤Ôºü
            </div>
            <div class="age-verification-disclaimer">
                <p><strong>ÂÖçË≤¨ËÅ≤ÊòéÔºö</strong></p>
                <p>Êú¨Ê¥ªÂãïÊó•ÊõÜÂÉÖ‰æõÂèÉËÄÉÊï¥ÁêÜÔºå<br>
                    Ê¥ªÂãïË¶èÂÆöËàáËß£ÈáãÊ¨äÊ≠∏Ê¥ªÂãï‰∏ªËæ¶ÊñπÊâÄÊúâ</p>
            </div>
            <div class="age-verification-buttons">
                <button class="age-btn age-btn-yes" onclick="confirmAge(true)">
                    ‚úì ÊòØÔºåÊàëÂ∑≤Âπ¥Êªø18Ê≠≤
                </button>
                <button class="age-btn age-btn-no" onclick="confirmAge(false)">
                    ‚úó Âê¶ÔºåÊàëÊú™Êªø18Ê≠≤
                </button>
            </div>
        </div>
    </div>

    <div id="eventModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // Events data - ÂøÖÈ†àÂú®ÊúÄÂâçÈù¢ÂÆ£ÂëäÔºå‰ΩøÁî® var ËÆìËÆäÊï∏ÊàêÁÇ∫ window ÁöÑÂ±¨ÊÄß
        // EVENT_DATA_START
        var augustEvents = [
    {
        "date": 3,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "wk",
        "link": "https://forms.gle/1fjC9ydxxvSuFQcV8"
    },
    {
        "date": 9,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "SPÊãçÊâì‰∫§ÊµÅÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/KmtFxwr8ZniMQB167"
    },
    {
        "date": 10,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Z31WhYfnNyKV2jnS6"
    },
    {
        "date": 16,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Âà•È§®-V.I.PÂ∞àÂ†¥",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/PRaU3j84XR6dhENY9"
    },
    {
        "date": 22,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Â§úÈñìÊîæÈ£õÊó•",
        "time": "19:00~22:00",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/hTRqykydNxRNzaMG8"
    },
    {
        "date": 31,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "SPÊãçÊâì‰∫§ÊµÅÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/Dd61i5AutCoLYieK6"
    },
    {
        "date": 27,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/UK2RNunS9oGkasdJ7"
    },
    {
        "date": 10,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥ÁøíÊó• üåô",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 16,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "SoaÁöÑÈÄ≤ÈöéÁ∑¥Ë™≤ üìÖ",
        "time": "14:00~16:30",
        "class": "zoo",
        "category": "wk",
        "link": "https://t.co/fs48unuleS"
    },
    {
        "date": 17,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "SPÊãçË≥£ÊúÉ üìÖ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "sp",
        "link": "https://t.co/KofUQtcIOR"
    },
    {
        "date": 20,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥ÁøíÊó• üåô",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 23,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "‰∫∫Êîπ&Á©øÂà∫ÂØ¶‰Ωú‰∫§ÊµÅÂàÜ‰∫´ üìÖ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "wk",
        "link": "https://t.co/uxlRmy5Z1g"
    },
    {
        "date": 23,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÈÇÇÈÄÖËßíËêΩ üåô",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 29,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Êñ∞ÊâãÂÖ•ÂúàËÅäÂ§©ÂÆ§ üåô",
        "time": "19:30~21:30",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 30,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥ÁøíÊó• üìÖ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 31,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ËÑÜÈ∫µÂçàÂæåÔºöÊÉÖÊÖæÂÇ¨Áú†Â∞èËÅö üíú",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "hy",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSce06LqCCeQ66PkQaZjsqxWu43xVwquFSbTFi5AZ07rZEFJ6w/viewform"
    },
    {
        "date": 16,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â•≥Áéã „ÅÆ Ë∏©Ë∏èÊó•",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/uIEa4Icni2"
    },
    {
        "date": 17,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "SP‰∫§ÊµÅÊó•",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://t.co/ziqbPTSnMh"
    },
    {
        "date": 20,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Ë∏©Ë∏èÊó• (Âπ≥Êó•Â†¥)",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/l8dEQbjrY1"
    },
    {
        "date": 23,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "ÈÖíÁ≤æÊó•",
        "time": "19:00~22:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://t.co/KMjUoy36yY"
    },
    {
        "date": 24,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â•≥ÂÉïÂíñÂï°Âª≥ 2.0",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/34BPQJI1QY"
    },
    {
        "date": 2,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "ÈñãÂπïÂÖ∏Á¶Æ",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": null
    },
    {
        "date": 5,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 10,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "ÁüáÁúºË∫≤Ë≤ìË≤ì",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/FLYbKACres"
    },
    {
        "date": 12,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 17,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Á∂Å‰∏ÄÁ∂ÅÔºåÂ∞±ÁÜü‰∫Ü-Á∑¥ÁøíÊ¥ªÂãï",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "bds",
        "link": "https://t.co/Pt7FsVKmQ2"
    },
    {
        "date": 19,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 26,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 5,
        "venue": "ÊÄù",
        "title": "ÂäáÊú¨ÊÆ∫‰πãÂ§ú",
        "time": "None~None",
        "class": "think",
        "category": "so",
        "link": "https://t.co/z6DN07ur4W"
    },
    {
        "date": 7,
        "venue": "ÊÄù",
        "title": "ÂæûÈõ∂ÈñãÂßã üì∫",
        "time": "19:00~21:30",
        "class": "think",
        "category": "wk",
        "link": "https://t.co/pXJ6HVKPt0"
    },
    {
        "date": 10,
        "venue": "ÊÄù",
        "title": "Ë°åÊàÆÊó• üì∫",
        "time": "14:00~17:00",
        "class": "think",
        "category": "wk",
        "link": "https://t.co/pXJ6HVKPt0"
    },
    {
        "date": 19,
        "venue": "ÊÄù",
        "title": "Ê°åÈÅäÊó•ÔºàÁãº‰∫∫ÊÆ∫Ôºâ",
        "time": "None~None",
        "class": "think",
        "category": "so",
        "link": "https://t.co/KclW8k0HFB"
    },
    {
        "date": 28,
        "venue": "ÊÄù",
        "title": "ÂñÆÂøÉ‰πãÊôÇÔºàÁ¥îÂ•≥TalkÔºâüì∫",
        "time": "19:00~21:30",
        "class": "think",
        "category": "so",
        "link": "https://t.co/BFyeJLaGP0"
    },
    {
        "date": 9,
        "venue": "ÊÄù",
        "title": "Êñ∞ÊâãÂèãÂñÑÂ†¥",
        "time": "19:00~21:30",
        "class": "think",
        "category": "",
        "link": "https://x.com/s9808191779632/status/1952237095445258588"
    }
];
        var septemberEvents = [
    {
        "date": 6,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Ek9G3Ff5QRBc4ZBG7"
    },
    {
        "date": 7,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "SPÊãçÊâì‰∫§ÊµÅÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/K1NaKA8J8VXWxtFg9"
    },
    {
        "date": 13,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/ZWvoSHawsB1b2Ghg8"
    },
    {
        "date": 17,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/oZcgBEUUUWfmHxPg6"
    },
    {
        "date": 20,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "SPÊãçÊâì‰∫§ÊµÅÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/nWCf3Ngxu7fpYTFu9"
    },
    {
        "date": 27,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Âà•È§®-V.I.PÂ∞àÂ†¥",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/pZmWWU1rbedPL7pF7"
    },
    {
        "date": 10,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥ÁøíÊó•",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 13,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÊÉÖÊÖæÂÇ¨Áú†ÂØ¶‰ΩúÂ∑•‰ΩúÂùä(ÂàùÈöé)",
        "time": "14:00~17:30",
        "class": "zoo",
        "category": "hy",
        "link": "https://t.co/9ACMhRuNw8"
    },
    {
        "date": 20,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ËÇÜÊÑèÂç≥ËààÔºö‰∏ÄÁπ©Âü∫Á§éÂ∑•‰ΩúÂùä",
        "time": "15:00~18:00",
        "class": "zoo",
        "category": "bds",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSeHI_-SV1dyex705-42bhKdJGIpYEco5kaqGs9lwoPuX8p-xA/viewform"
    },
    {
        "date": 20,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥ÁøíÊó•",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 26,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Êñ∞ÊâãÂÖ•ÂúàËÅäÂ§©ÊúÉ",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 27,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Â•≥‰∏ªÂÖ±Â≠∏ÊúÉ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 27,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÈÇÇÈÄÖËßíËêΩ",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 6,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "TKÊó•Â∏∏",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/5uuS6jrv5dCT5Zj98"
    },
    {
        "date": 13,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "ÈÖíÁ≤æÊó•party night",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/MPZeNnXbtnTCFgJ98"
    },
    {
        "date": 14,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â•≥ÁéãÂØ©Âà§Êó•!!",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/4dF9x668TwUWRgjK7"
    },
    {
        "date": 20,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Cos‰∏ªÈ°å Á¨¨‰πùÁØÄË™≤ Á•ïÂØÜÊïôÂÆ§",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/ERMXMJqNAFLUNYXh8"
    },
    {
        "date": 21,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â∞øÈÅìË™øÊïôÂÖ•ÈñÄ<Â•≥Áîü> Âê´Ë°®ÊºîÁ§∫ÁØÑ",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "wk",
        "link": "https://forms.gle/9EsmBvM6GpHVWpDE8"
    },
    {
        "date": 27,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Ë†üÁá≠ÊôöÂÆ¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/62psNQ6XuETPsm7Y8"
    },
    {
        "date": 28,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "SP ‰∫§ÊµÅÊó•",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://forms.gle/ziK96e1mbKvqqJfw8"
    },
    {
        "date": 3,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 10,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 13,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "ÂêÉÈ£ØÔºå‰πüÂêÉËæ£ÔΩúBDSM ÂæÆËæ£ÊôöÂÆ¥ ft.ÁÜäÊãî",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/5UMU4LbYu6"
    },
    {
        "date": 17,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 24,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 27,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "‰∫∫È´îÂ£ΩÂè∏ËñØÊ¢ùÁÇ∏ÈõûÁîú‰∏çËæ£",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/lmUDa0vVtv"
    },
    {
        "date": 29,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Êãò‰πÖÂ±ã‰∫∫È´îÁõõ",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "",
        "link": "https://x.com/jukuya456/status/1968191832627798419"
    },
    {
        "date": 14,
        "venue": "ÂÖ∂‰ªñ",
        "title": "Ëß∏ÂãïÂ∏ÇÈõÜ",
        "time": "11:00~17:00",
        "class": "other",
        "category": "or",
        "link": "https://x.com/call_it_soul/status/1962911968265978046"
    },
    {
        "date": 15,
        "venue": "ÂÖ∂‰ªñ",
        "title": "Ëß∏ÂãïÂ∏ÇÈõÜ",
        "time": "11:00~17:00",
        "class": "other",
        "category": "or",
        "link": "https://x.com/call_it_soul/status/1962911968265978046"
    }
];
        var octoberEvents = [
    {
        "date": 1,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/86ZoQzZHT9U655K29"
    },
    {
        "date": 4,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "DS/SMË™çÁü•ËÅäÂ§©ÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/YHTFw1FoSnf8CUv7A"
    },
    {
        "date": 10,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Âà•È§®-House of Torment ÊäòÁ£®‰πãÂÆ∂",
        "time": "13:30~17:00",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/ViMUyjBbHNFDyDc17"
    },
    {
        "date": 11,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "SPÊãçÊâì‰∫§ÊµÅÊúÉ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/fcGB7SfJgG64QRrv8"
    },
    {
        "date": 15,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Yt8pgLzN9sjGnR1GA"
    },
    {
        "date": 18,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Âà•È§®V.I.PÂ∞àÂ†¥-CosplayÁöÑÁï∞ÊÉ≥‰∏ñÁïå",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/3mbodpF7e2CFaKSE7"
    },
    {
        "date": 24,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "Â§úÈñìÊîæÈ£õÊó•",
        "time": "19:00~22:00",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/gxXUGL4vjYRHRqs16"
    },
    {
        "date": 26,
        "venue": "Áé©ÂÖ∑Èñì",
        "title": "BDÁé©Ê≥ïÂèäÈ´îÈ©óLv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/PTxYXxRbPLusdaMe6"
    },
    {
        "date": 10,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÁàæÂ∞º„ÑüÁ∑¥Áπ©Êó• ft.EZA",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 18,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÈÇÇÈÄÖËßíËêΩ",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 20,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥Áπ©Êó•",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 24,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "ÈÅïÂèçÂãï‰øùSPÊó•",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "sp",
        "link": null
    },
    {
        "date": 30,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Á∑¥Áπ©Êó•",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 31,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Êñ∞ÊâãÂÖ•ÂúàËÅäÂ§©ÂÆ§",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 19,
        "venue": "ÂãïÁâ©ÊñπÁ®ãÂºè",
        "title": "Áπ©Á∏õË°®Êºî„ÄêÁπ©ÁµÜ„Äë",
        "time": "14:00~18:00",
        "class": "zoo",
        "category": "bds",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSdXguh1GRxzif0cPjO9fEmlPG5BxeA4CW2tJi1g6z-uT0OQ4Q/viewform"
    },
    {
        "date": 11,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "SP ‰∫§ÊµÅÊó•",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://forms.gle/jSqn5VG2PP9kWwQH8"
    },
    {
        "date": 12,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "ÈÖíÁ≤æÊó•party night",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/chyyo5otwrXA9j7t6"
    },
    {
        "date": 18,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "ËÅäËÅäÁôÇÁôÇ x ÊôöÈ§êÊó•",
        "time": "17:00~20:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/QNygZThSRR5PFHXo7"
    },
    {
        "date": 19,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â•≥Áéã „ÅÆ Ë∏©Ë∏èÊó•",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/HRyqwxbEep19fcah7"
    },
    {
        "date": 25,
        "venue": "Êõ¥Ë°£Èñì",
        "title": "Â∞øÈÅìË™øÊïô ÂæÆÈÄ≤Èöé<Â•≥Áîü> part2 Âê´Ë°®ÊºîÁ§∫ÁØÑ",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "wk",
        "link": "https://forms.gle/xcMzBCiTK4Sn5Ga1A"
    },
    {
        "date": 2,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 4,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "SPÊãçÊãç‰∫§ÊµÅÂàÜ‰∫´",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "sp",
        "link": "https://t.co/qO3W00CqqE"
    },
    {
        "date": 6,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Êãò‰πÖÂ±ãÔΩú‰∫∫ÂΩ¢ÂØµÁâ©‰∏≠ÁßãÂêåÊ®ÇÊúÉ",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/T8hIpk6slB"
    },
    {
        "date": 7,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 9,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 11,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "ÊãòÊùüÁà¨Ë°åÂ§ßË≥Ω",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/lSiQB6RZ84"
    },
    {
        "date": 15,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Áé©ËÄçÂÆ∂Â∏∏Êó•",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 17,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "ÊíïË•™-ÊàÄÁâ©ÁõõÂÆ¥ ft. Amber c.",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/94P9KEplSf"
    },
    {
        "date": 18,
        "venue": "Êãò‰πÖÂ±ã",
        "title": "Á∂Å‰∏ÄÁ∂ÅÔºåÂ∞±ÁÜü‰∫Ü",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "bds",
        "link": "https://t.co/Z9DuLfdpDE"
    },
    {
        "date": 18,
        "venue": "ÂÖ∂‰ªñ",
        "title": "Âè∞‰∏≠‰∏ªÈ°åÂºèÂÇ¨Áú†Á∑¥ÁøíÊúÉ- ÂáùË¶ñÊ≥ïüëÄ",
        "time": "14:00~17:00",
        "class": "other",
        "category": "hy",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSeQelCgIJ6rTuky98QQwTs5KC8ZIaq2c1eRkaxsw9ijbmDkHQ/viewform"
    }
];
        var novemberEvents = [];
        var decemberEvents = [];
        // EVENT_DATA_END

        // Èö®Ê©üÂ∞èÊ®ôÈ°åÂäüËÉΩ
        const randomTexts = ['SP', 'TK', 'Â†±ÂêçÊäòÁ£®‰πãÂÆ∂', 'Á•û‰æÜ‰∏ÄÂ†¥', 'Êë∏Êë∏Ë≤¥Ë≥ìÂ∞èÂßê', 'ÂêÉÈÖ∏ËèúÈ≠ö', 'Êï≤Êï≤‰ª£Á¢º', 'Âú®ÁÇπ‰∏ÄÊ¨°Ëæ≤Ê∞ëÊõÜ', 'ÂèÉÂä†Ê¥ªÂãï', 'ÂùêËëó', 'ÂêÉÈ£Ø', 'Â∏∂ÊâãÈä¨', 'ÈæúÁî≤Á∏õ', 'Êã∑Âïè', 'ÂæåÊâãÁ∏õ', 'Ê±™Ê±™Âè´', 'Êä±Êä±', 'ÁúãÈ¨ºÊªÖ‰πãÂàÉ', 'ÊÉÖÊÖæÂÇ¨Áú†', 'ÂõûÂÆ∂', 'Ë∑üPKÁé©', 'ÊâìÊû∂', 'Á†¥Â£ûÊÆ∫', 'ÂèÉÂä†Áï∞Ëâ≤Â∏ÇÈõÜ', 'ÊèçÁàõBrat', 'Â∫úÂüéÂòâÂπ¥ËèØ', 'Êã∑Âïè', 'ÂéªÁÑ°ÈôêÂüé', 'Êä±Êä±Á¥´Á¥´', '‰∏çÁµ¶Á≥ñÂ∞±ÊêóËõã'];
        function updateRandomSubtitle() {
            const randomIndex = Math.floor(Math.random() * randomTexts.length);
            document.getElementById('randomSubtitle').textContent = `Ëæ≤Ê∞ëÊõÜË™™‰ªäÊó•ÂÆú${randomTexts[randomIndex]}`;
        }

        // ÈªûÊìäÂ∞èÊ®ôÈ°åÊôÇÊõ¥Êñ∞ÂÖßÂÆπ
        document.getElementById('randomSubtitle').addEventListener('click', updateRandomSubtitle);

        // ÈåØË™§‰øÆÊ≠£ÊèêÁ§∫ÂΩàÁ™ó
        function showErrorCorrectionModal() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 3000;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 15px;
                text-align: center;
                max-width: 400px;
                margin: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            `;
            
            content.innerHTML = `
                <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.3rem;">ÈåØË™§‰øÆÊ≠£ÈÄöÁü•</h3>
                <p style="color: #34495e; line-height: 1.5; margin-bottom: 20px;">
                    9/27ÁöÑÊõ¥Ë°£ÈñìÊ¥ªÂãïÂêçÁ®±ÊúâÈåØË™§ÔºåÁèæÂ∑≤Êõ¥Êñ∞ÂÆåÊàêÔºåÈÄ†Êàê‰∏ç‰æøÊï¨Ë´ãË¶ãË´íÔºÅüòÖ
                </p>
                <button onclick="this.parentElement.parentElement.remove()" style="
                    background: linear-gradient(135deg, #3498db, #2980b9);
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-weight: bold;
                ">ÊàëÁü•ÈÅì‰∫Ü</button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // ÈªûÊìäËÉåÊôØÈóúÈñâ
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // Âπ¥ÈΩ°È©óË≠âÂäüËÉΩ
        function confirmAge(isAdult) {
            if (isAdult) {
                // Èö±ËóèÂπ¥ÈΩ°È©óË≠âÂΩàÁ™ó
                document.getElementById('ageVerificationModal').style.display = 'none';
                document.body.style.overflow = 'auto';
            } else {
                // Ë∑≥ËΩâÂà∞GoogleÈ¶ñÈ†Å
                window.location.href = 'https://www.google.com';
            }
        }

        // Ê™¢Êü•ÊòØÂê¶Âú®Êõ¥Êñ∞Âæå‰∏âÂ§©ÂÖß
        function isWithinUpdatePeriod() {
            // Ëá™ÂãïËÆÄÂèñÈ†ÅÈù¢‰∏äÈ°ØÁ§∫ÁöÑÊúÄÂæåÊõ¥Êñ∞Êó•
            const updateText = document.querySelector('.header p').textContent;
            const dateMatch = updateText.match(/(\d{4})\.(\d{2})\.(\d{2})/);
            
            if (!dateMatch) return false;
            
            const updateDate = new Date(`${dateMatch[1]}-${dateMatch[2]}-${dateMatch[3]}`);
            const today = new Date();
            const diffTime = today.getTime() - updateDate.getTime();
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays >= 0 && diffDays <= 3;
        }

        // È†ÅÈù¢ËºâÂÖ•ÊôÇÈ°ØÁ§∫Âπ¥ÈΩ°È©óË≠âÂΩàÁ™ó
        window.addEventListener('load', function() {
            document.body.style.overflow = 'hidden';
            document.getElementById('ageVerificationModal').style.display = 'flex';
            
            // Ê™¢Êü•ÊòØÂê¶Âú®Êõ¥Êñ∞Âæå‰∏âÂ§©ÂÖßÔºåÂ¶ÇÊûúÊòØÂâáÈ°ØÁ§∫Êõ¥Êñ∞ÊèêÁ§∫
            if (isWithinUpdatePeriod()) {
                const updateNotice = document.createElement('div');
                updateNotice.style.cssText = `
                    background: linear-gradient(135deg, #e74c3c, #c0392b);
                    color: white;
                    padding: 8px 15px;
                    border-radius: 20px;
                    font-size: 0.9rem;
                    font-weight: bold;
                    margin-bottom: 15px;
                    animation: bounce 1s ease-in-out;
                    display: inline-block;
                `;
                updateNotice.textContent = 'üéâ Á∂≤Á´ôÊõ¥Êñ∞Âï¶ÔºÅ';
                updateNotice.style.cursor = 'pointer';
                updateNotice.addEventListener('click', function() {
                    toggleUpdateInfo();
                    // ÈóúÈñâÂπ¥ÈΩ°È©óË≠âÂΩàÁ™ó
                    document.getElementById('ageVerificationModal').style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
                
                // Ê∑ªÂä†ÂΩàË∑≥ÂãïÁï´
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes bounce {
                        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                        40% { transform: translateY(-10px); }
                        60% { transform: translateY(-5px); }
                    }
                `;
                document.head.appendChild(style);
                
                // Â∞áÊõ¥Êñ∞ÊèêÁ§∫ÊèíÂÖ•Âà∞Ê®ôÈ°å‰πãÂâç
                const title = document.querySelector('.age-verification-title');
                title.parentNode.insertBefore(updateNotice, title);
            }
            
            // ÂàùÂßãÂåñÈö®Ê©üÂ∞èÊ®ôÈ°å
            updateRandomSubtitle();

            // ÂàùÂßãÂåñÊõ¥Êñ∞Ë≥áË®äÊë∫ÁñäÈ°ØÁ§∫
            setupUpdatesCollapsing();

            // ÂàùÂßãÂåñÂúñ‰æãÊäòÁñäÔºàÊâãÊ©üÈ†êË®≠Êî∂ÂêàÔºâ
            setupLegendsCollapsible();
            applyLegendCollapseByViewport();

            // ÂàùÂßãÂåñËê¨ËÅñÁØÄÂπΩÈùàË£ùÈ£æÔºà10ÊúàÈ°ØÁ§∫Ôºâ
            checkForHalloweenDecorations();
        });

        // Venue visibility state
        const venueVisibility = {
            jukuya: true,
            toyroom: true,
            gengyiroom: true,
            think: true,
            zoo: true,
            other: true
        };

        // Category visibility state
        const categoryVisibility = {
            sp: true,
            bd: true,
            bds: true,
            so: true,
            wk: true,
            ss: true,
            hy: true,
            or: true
        };

        // Category display names
        const categoryNames = {
            bd: 'ÊùüÁ∏õ',
            bds: 'Áπ©Á∏õ',
            hy: 'ÂÇ¨Áú†',
            or: 'ÂÖ∂‰ªñ',
            so: '‰∫§ÊµÅ',
            sp: 'SP',
            ss: 'ÁâπÊÆä‰∏ªÈ°å',
            wk: 'Â∑•‰ΩúÂùä',
        };

        // Category color gradients for event tags (match legend colors)
        const categoryColors = {
            bd: 'linear-gradient(135deg, #8e44ad, #9b59b6)',
            bds: 'linear-gradient(135deg, #d2b48c, #a67c52)',
            hy: 'linear-gradient(135deg, #ff8ab8, #ff5fa2)',
            or: 'linear-gradient(135deg, #7f8c8d, #95a5a6)',
            so: 'linear-gradient(135deg, #2ecc71, #27ae60)',
            sp: 'linear-gradient(135deg, #e74c3c, #c0392b)',
            ss: 'linear-gradient(135deg, #34495e, #2c3e50)',
            wk: 'linear-gradient(135deg, #f39c12, #e67e22)',
        };

        // Current month state
        let currentMonth = 0; // È†êË®≠ÂæûÁ¨¨‰∏ÄÂÄãÊúà‰ªΩÈñãÂßã
        let monthNames = []; // ÂãïÊÖãÁîüÊàêÊúà‰ªΩÂêçÁ®±
        let monthEvents = []; // ÂãïÊÖãÊúà‰ªΩ‰∫ã‰ª∂Èô£Âàó

        // ÂãïÊÖãÁîüÊàêÊúà‰ªΩË≥áÊñô
        function generateMonthData() {
            monthNames = [];
            monthEvents = [];
            
            // Âæû window Áâ©‰ª∂‰∏≠ÊéÉÊèèÊâÄÊúâÈ°û‰ºº 'augustEvents' ÁöÑËÆäÊï∏
            const allMonthEventVars = Object.keys(window).filter(key => key.endsWith('Events') && typeof window[key] === 'object' && Array.isArray(window[key]));
            
            console.log(`‚úÖ ÊâæÂà∞ ${allMonthEventVars.length} ÂÄãÊúà‰ªΩËÆäÊï∏`);

            // Êúà‰ªΩÈ†ÜÂ∫èÂ∞çÁÖßË°®
            const monthOrder = {
                'january': 1, 'february': 2, 'march': 3, 'april': 4,
                'may': 5, 'june': 6, 'july': 7, 'august': 8,
                'september': 9, 'october': 10, 'november': 11, 'december': 12
            };

            // Ê†πÊìöÊúà‰ªΩÂíåÂπ¥‰ªΩÊéíÂ∫è
            allMonthEventVars.sort((a, b) => {
                const aMonthName = a.replace('Events', '').toLowerCase();
                const bMonthName = b.replace('Events', '').toLowerCase();
                
                const aMonthNum = monthOrder[aMonthName];
                const bMonthNum = monthOrder[bMonthName];

                // ÂÅáË®≠Âπ¥‰ªΩÂú®ËÆäÊï∏ÂêçÁ®±‰∏≠‰∏çÊòéÁ¢∫Ôºå‰ΩÜÊàëÂÄëÂèØ‰ª•Âú®ÁîüÊàêÊôÇÊåáÂÆö
                // ÁõÆÂâçÁ∞°ÂåñËôïÁêÜÔºåÂÉÖÊåâÊúà‰ªΩÊéíÂ∫è
                return aMonthNum - bMonthNum;
            });

            allMonthEventVars.forEach(monthVarName => {
                const monthName = monthVarName.replace('Events', '');
                // ÂÅáË®≠Âπ¥‰ªΩÊòØ 2025ÔºåÂ¶ÇÊûúÊú™‰æÜÈúÄË¶ÅÂãïÊÖãÂπ¥‰ªΩÔºåÈúÄË¶ÅÂæûÂÖ∂‰ªñÂú∞ÊñπÁç≤Âèñ
                const year = 2025; 
                const monthNum = monthOrder[monthName.toLowerCase()];
                if (monthNum) {
                    const fullMonthName = `${year}Âπ¥${monthNum}Êúà`;
                    monthNames.push(fullMonthName);
                    monthEvents.push(window[monthVarName]);
                }
            });
        }

        // Áç≤ÂèñÁï∂ÂâçÊúà‰ªΩÁ¥¢Âºï
        function getCurrentMonthIndex() {
            const today = new Date();
            const currentYear = today.getFullYear();
            const currentMonth = today.getMonth() + 1; // JavaScript months are 0-based
            
            // Âú®Êúà‰ªΩÈô£Âàó‰∏≠Â∞ãÊâæÂ∞çÊáâÁöÑÊúà‰ªΩ
            for (let i = 0; i < monthNames.length; i++) {
                const monthMatch = monthNames[i].match(/(\d{4})Âπ¥(\d{1,2})Êúà/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    if (year === currentYear && month === currentMonth) {
                        return i;
                    }
                }
            }
            
            // Â¶ÇÊûúÊâæ‰∏çÂà∞Áï∂ÂâçÊúà‰ªΩÔºåÈ†êË®≠È°ØÁ§∫Á¨¨‰∏ÄÂÄãÊúà‰ªΩ
            return 0;
        }

        function toggleVenue(venueClass) {
            venueVisibility[venueClass] = !venueVisibility[venueClass];
            const checkbox = document.getElementById(venueClass + '-checkbox');
            checkbox.checked = venueVisibility[venueClass];
            
            // Regenerate all calendars with updated visibility
            monthEvents.forEach((events, index) => {
                const monthMatch = monthNames[index].match(/(\d{4})Âπ¥(\d{1,2})Êúà/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    const calendarId = `calendar-${year}-${month}`;
                    generateCalendar(calendarId, events, year, month);
                }
            });
        }

        function toggleCategory(categoryClass) {
            categoryVisibility[categoryClass] = !categoryVisibility[categoryClass];
            const checkbox = document.getElementById(categoryClass + '-checkbox');
            checkbox.checked = categoryVisibility[categoryClass];
            
            // Regenerate all calendars with updated visibility
            monthEvents.forEach((events, index) => {
                const monthMatch = monthNames[index].match(/(\d{4})Âπ¥(\d{1,2})Êúà/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    const calendarId = `calendar-${year}-${month}`;
                    generateCalendar(calendarId, events, year, month);
                }
            });
        }

        function getCurrentDate() {
            const today = new Date();
            return {
                month: today.getMonth() + 1, // JavaScript months are 0-based
                day: today.getDate()
            };
        }

        function isPastDate(day, month) {
            const today = getCurrentDate();
            if (month < today.month) return true;
            if (month === today.month && day < today.day) return true;
            return false;
        }

        function toggleUpdateInfo() {
            const updateInfo = document.getElementById('updateInfo');
            if (updateInfo.style.display === 'none' || updateInfo.style.display === '') {
                updateInfo.style.display = 'block';
            } else {
                updateInfo.style.display = 'none';
            }
        }

        // ÂÉÖÈ°ØÁ§∫ÊúÄÊñ∞‰∏âÁ≠ÜÊõ¥Êñ∞ÔºåÊèê‰æõÂ±ïÈñã/Êî∂Âêà
        function setupUpdatesCollapsing() {
            const list = document.querySelector('.update-list');
            if (!list) return;

            const items = Array.from(list.querySelectorAll('.update-item'));
            if (items.length <= 3) {
                // ‰∏çË∂≥‰∏âÁ≠Ü‰∏çÈ°ØÁ§∫ÊåâÈàï
                const btn = document.getElementById('updatesToggleBtn');
                if (btn) btn.style.display = 'none';
                return;
            }

            // ÂàùÂßãÈö±ËóèÁ¨¨‰∏âÁ≠Ü‰πãÂæåÁöÑÈ†ÖÁõÆ
            for (let i = 3; i < items.length; i++) {
                items[i].style.display = 'none';
            }

            const btn = document.getElementById('updatesToggleBtn');
            if (!btn) return;
            btn.style.display = 'inline-block';

            let expanded = false;
            btn.addEventListener('click', function() {
                expanded = !expanded;
                for (let i = 3; i < items.length; i++) {
                    items[i].style.display = expanded ? 'flex' : 'none';
                }
                btn.textContent = expanded ? 'Êî∂ÂêàÊõ¥Êñ∞Ë≥áË®ä' : 'Êõ¥Â§öÊõ¥Êñ∞Ë≥áË®ä';
            });
        }

        // ÊâãÊ©üÔºöÂ†¥Âú∞ËàáÂàÜÈ°ûÊäòÁñäÊéßÂà∂
        function applyLegendCollapseByViewport() {
            const legend = document.querySelector('.legend');
            const categoryLegend = document.querySelector('.category-legend');
            const isMobile = window.innerWidth <= 768;
            if (legend) {
                if (isMobile) legend.classList.add('collapsed');
                else legend.classList.remove('collapsed');
            }
            if (categoryLegend) {
                if (isMobile) categoryLegend.classList.add('collapsed');
                else categoryLegend.classList.remove('collapsed');
            }
        }

        function setupLegendsCollapsible() {
            const legendContainer = document.querySelector('.legend');
            const categoryLegendContainer = document.querySelector('.category-legend');
            const legendTitle = document.querySelector('.legend-title');
            const categoryLegendTitle = document.querySelector('.category-legend-title');

            if (legendTitle && legendContainer) {
                legendTitle.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        legendContainer.classList.toggle('collapsed');
                    }
                });
            }

            if (categoryLegendTitle && categoryLegendContainer) {
                categoryLegendTitle.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        categoryLegendContainer.classList.toggle('collapsed');
                    }
                });
            }
        }

        function generateCalendar(containerId, events, year, month) {
            const calendar = document.getElementById(containerId);
            calendar.innerHTML = '';
            
            const daysOfWeek = ['Êó•', '‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠'];
            
            // Add day headers
            daysOfWeek.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });

            // Calculate first day of month and days in month
            const firstDay = new Date(year, month - 1, 1).getDay();
            const daysInMonth = new Date(year, month, 0).getDate();
            
            // Add empty cells for previous month
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell other-month';
                calendar.appendChild(emptyCell);
            }

            // Add days of the month
            const today = getCurrentDate();
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'day-cell';
                
                // Check if today
                if (day === today.day && month === today.month) {
                    dayCell.classList.add('today');
                } else if (isPastDate(day, month)) {
                    dayCell.classList.add('past-day');
                }

                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = day;
                dayCell.appendChild(dayNumber);

                // Add events for this day and sort by start time
                const dayEvents = events.filter(event => {
                    const hasVenue = venueVisibility[event.class];
                    
                    // Â¶ÇÊûúÊ¥ªÂãïÊúâ category ‰ΩÜ‰∏çÂ≠òÂú®Êñº categoryVisibility ‰∏≠ÔºåËá™ÂãïÊ∑ªÂä†Âà∞ÊâÄÊúâÈ°ûÂà•ÂÆöÁæ©
                    if (event.category && categoryVisibility[event.category] === undefined) {
                        categoryVisibility[event.category] = true;
                        if (!categoryNames[event.category]) {
                            categoryNames[event.category] = event.category.toUpperCase();
                        }
                        if (!categoryColors[event.category]) {
                            categoryColors[event.category] = 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                        }
                        console.log(`‚ö†Ô∏è Ëá™ÂãïÊ∑ªÂä†Êñ∞ÂàÜÈ°û: ${event.category} (‰æÜËá™Ê¥ªÂãï: ${event.title})`);
                    }
                    
                    const hasCategory = !event.category || categoryVisibility[event.category];
                    const showEvent = event.date === day && hasVenue && hasCategory;
                    return showEvent;
                });
                
                // Sort events by start time
                dayEvents.sort((a, b) => {
                    const getStartTime = (timeStr) => {
                        const normalized = (timeStr || '').replace(/Ôºö/g, ':');
                        const match = normalized.match(/(\d{1,2}):(\d{2})/);
                        if (match) {
                            return parseInt(match[1]) * 60 + parseInt(match[2]);
                        }
                        return 0;
                    };
                    return getStartTime(a.time) - getStartTime(b.time);
                });
                
                dayEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    const isPast = isPastDate(day, month);
                    eventDiv.className = `event ${event.class}${isPast ? ' past' : ''}`;
                    eventDiv.style.position = 'relative';
                    const neutralChip = `<span class="event-category-chip">${categoryNames[event.category] || 'ÂÖ∂‰ªñ'}</span>`;
                    eventDiv.innerHTML = `
                        <div class="event-venue">${event.venue} ${neutralChip}</div>
                        <div class="event-title">${event.title}</div>
                        <div class="event-time">${event.time}</div>
                        ${event.link && !isPast ? '<div class="register-icon">üîó</div>' : ''}
                    `;
                    
                    if (!isPast) {
                        eventDiv.addEventListener('click', () => showEventDetails(event, month));
                        // Ê∑ªÂä†Ëß∏ÊéßÂõûÈ•ã
                        eventDiv.addEventListener('touchstart', function() {
                            this.style.opacity = '0.7';
                        });
                        eventDiv.addEventListener('touchend', function() {
                            this.style.opacity = '1';
                        });
                    }
                    
                    dayCell.appendChild(eventDiv);
                });

                calendar.appendChild(dayCell);
            }
        }

        function showEventDetails(event, month) {
            const modal = document.getElementById('eventModal');
            const modalContent = document.getElementById('modalContent');
            
            const isPast = isPastDate(event.date, month);
            let linkButton = '';
            
            if (event.link) {
                if (isPast) {
                    linkButton = `<div class="register-button disabled">
                        ‚åõ Ê¥ªÂãïÂ∑≤ÁµêÊùü
                    </div>`;
                } else {
                    const linkText = event.linkLabel ? event.linkLabel : 'ÂâçÂæÄÂ†±Âêç';
                    linkButton = `<a href="${event.link}" target="_blank" class="register-button">
                        üîó ${linkText}
                    </a>`;
                }
            } else if (!isPast) {
                linkButton = `<div class="register-button pending">
                    ‚è≥ Â†±ÂêçË°®ÂñÆÊï¨Ë´ãÊúüÂæÖ
                </div>`;
            }
            
            const monthName = String(month);
            const modalCategoryStyle = categoryColors[event.category] || 'linear-gradient(135deg, #bdc3c7, #95a5a6)';
            const categoryTag = `<div class="event-category-tag" style="background: ${modalCategoryStyle}">${categoryNames[event.category] || 'ÂÖ∂‰ªñ'}</div>`;
            
            modalContent.innerHTML = `
                <h2 style="color: ${isPast ? '#999' : '#2c3e50'}; margin-bottom: 8px; font-size: 1.3rem;">${event.venue}</h2>
                <h3 style="color: ${isPast ? '#aaa' : '#34495e'}; margin-bottom: 12px; font-size: 1.1rem;">${event.title}${isPast ? ' (Â∑≤ÁµêÊùü)' : ''}</h3>
                ${categoryTag}
                <p style="margin-bottom: 6px; font-size: 0.95rem; color: ${isPast ? '#999' : 'inherit'};"><strong>Êó•ÊúüÔºö</strong>${monthName}Êúà${event.date}Êó•</p>
                <p style="margin-bottom: 12px; font-size: 0.95rem; color: ${isPast ? '#999' : 'inherit'};"><strong>ÊôÇÈñìÔºö</strong>${event.time}</p>
                ${linkButton}
            `;
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('eventModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function changeMonth(direction) {
            currentMonth += direction;
            
            // Limit to available months (ÂãïÊÖãÈôêÂà∂)
            if (currentMonth < 0) currentMonth = 0;
            if (currentMonth >= monthNames.length) currentMonth = monthNames.length - 1;
            
            updateCalendarView();
        }

        function updateCalendarView() {
            const slider = document.getElementById('calendarSlider');
            const monthTitle = document.getElementById('monthTitle');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Update slider position
            slider.style.transform = `translateX(-${currentMonth * 100}%)`;
            
            // Update month title
            monthTitle.textContent = monthNames[currentMonth];
            
            // Update button states
            prevBtn.disabled = currentMonth === 0;
            nextBtn.disabled = currentMonth === monthNames.length - 1;
            
            // ÂãïÊÖãË™øÊï¥Êó•ÊõÜÂÆπÂô®È´òÂ∫¶
            adjustCalendarHeight();
        }

        function adjustCalendarHeight() {
            const calendarContainer = document.getElementById('calendarContainer');
            const calendarSlider = document.querySelector('.calendar-slider');
            const calendarMonths = document.querySelectorAll('.calendar-month');
            
            if (calendarMonths.length > 0) {
                const isMobile = window.innerWidth <= 768;
                const isSmallMobile = window.innerWidth <= 480;
                
                // Ê†πÊìöËû¢ÂπïÂ∞∫ÂØ∏Ë®≠ÂÆöÊúÄÂ∞èÈ´òÂ∫¶
                let minHeight;
                if (isSmallMobile) {
                    minHeight = 450;
                } else if (isMobile) {
                    minHeight = 500;
                } else {
                    minHeight = 600;
                }
                
                // ÁÇ∫ÊØèÂÄãÊúà‰ªΩÂñÆÁç®Ë®àÁÆóÂíåË®≠ÂÆöÈ´òÂ∫¶
                calendarMonths.forEach((month, index) => {
                    const calendarGrid = month.querySelector('.calendar-grid');
                    if (calendarGrid) {
                        const gridHeight = calendarGrid.scrollHeight;
                        const monthHeight = Math.max(gridHeight + 20, minHeight);
                        month.style.minHeight = monthHeight + 'px';
                    }
                });
                
                // Áç≤ÂèñÁï∂ÂâçÈ°ØÁ§∫Êúà‰ªΩÁöÑÈ´òÂ∫¶
                const currentMonthElement = calendarMonths[currentMonth];
                if (currentMonthElement) {
                    const currentMonthHeight = currentMonthElement.style.minHeight || minHeight + 'px';
                    const currentHeight = parseInt(currentMonthHeight);
                    
                    // Âº∑Âà∂Ë®≠ÂÆöÂÆπÂô®ÂíåÊªëÂãïÂô®ÁöÑÈ´òÂ∫¶ÁÇ∫Áï∂ÂâçÊúà‰ªΩÁöÑÈ´òÂ∫¶
                    calendarContainer.style.minHeight = currentHeight + 'px';
                    calendarContainer.style.height = currentHeight + 'px';
                    calendarSlider.style.minHeight = currentHeight + 'px';
                    calendarSlider.style.height = currentHeight + 'px';
                } else {
                    // Â¶ÇÊûúÊâæ‰∏çÂà∞Áï∂ÂâçÊúà‰ªΩÔºå‰ΩøÁî®ÊúÄÂ∞èÈ´òÂ∫¶
                    calendarContainer.style.minHeight = minHeight + 'px';
                    calendarContainer.style.height = minHeight + 'px';
                    calendarSlider.style.minHeight = minHeight + 'px';
                    calendarSlider.style.height = minHeight + 'px';
                }
            }
        }

        // Touch handling for mobile swipe
        let startX = 0;
        let startY = 0;
        let isScrolling = false;

        document.getElementById('calendarContainer').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
            isScrolling = false;
        }, { passive: true });

        document.getElementById('calendarContainer').addEventListener('touchmove', function(e) {
            if (!isScrolling) {
                const deltaX = Math.abs(e.touches[0].clientX - startX);
                const deltaY = Math.abs(e.touches[0].clientY - startY);
                
                if (deltaY > deltaX) {
                    isScrolling = true;
                } else if (deltaX > 10) {
                    e.preventDefault();
                }
            }
        }, { passive: false });

        document.getElementById('calendarContainer').addEventListener('touchend', function(e) {
            if (!isScrolling) {
                const deltaX = e.changedTouches[0].clientX - startX;
                
                if (Math.abs(deltaX) > 50) {
                    if (deltaX > 0 && currentMonth > 0) {
                        changeMonth(-1);
                    } else if (deltaX < 0 && currentMonth < monthNames.length - 1) {
                        changeMonth(1);
                    }
                }
            }
        }, { passive: true });

        // Modal close functionality
        document.querySelector('.close').addEventListener('click', closeModal);

        window.addEventListener('click', function(event) {
            const modal = document.getElementById('eventModal');
            if (event.target === modal) {
                closeModal();
            }
        });

        // Ê∑ªÂä†Ëß∏ÊéßÊîØÊè¥
        document.querySelector('.close').addEventListener('touchend', function(e) {
            e.preventDefault();
            closeModal();
        });

        // Èò≤Ê≠¢Ê®°ÊÖãÊ°ÜÂÖßÂÆπÈªûÊìäÊôÇÈóúÈñâ
        document.querySelector('.modal-content').addEventListener('click', function(e) {
            e.stopPropagation();
        });

        // ‰∏ªËæ¶ÊñπÁ∂≤Á´ôÈÄ£ÁµêÂáΩÊï∏
        function openVenueWebsite(venue, event) {
            event.stopPropagation(); // Èò≤Ê≠¢Ëß∏ÁôºÁà∂ÂÖÉÁ¥†ÁöÑÈªûÊìä‰∫ã‰ª∂
            
            const venueUrls = {
                'jukuya': 'https://x.com/jukuya456',
                'toyroom': 'https://studiobondage.com/?fbclid=IwY2xjawMjGPRleHRuA2FlbQIxMABicmlkETFnSVc1dTRqaEY1elhTZTlRAR7xJ86EgSLcXp4AlX15ulnYKMmKIctTZaT7-2H7bh7nmcmKEkoLP1f9dexZ4w_aem_XXSM0oPn7ZBCX0AL4u_dWg',
                'gengyiroom': 'https://x.com/gengyiroom',
                'think': 'https://x.com/s9808191779632',
                'zoo': 'https://x.com/16fnzoo'
            };
            
            const url = venueUrls[venue];
            if (url) {
                window.open(url, '_blank');
            }
        }

        // ÂãïÊÖãÊõ¥Êñ∞È°ûÂà•Âúñ‰æã
        function updateCategoryLegend() {
            const categoryLegendContainer = document.querySelector('.category-legend-items');
            if (!categoryLegendContainer) return;
            
            // Êî∂ÈõÜÊâÄÊúâÂ∑≤Â≠òÂú®ÁöÑÈ°ûÂà•
            const existingCategories = new Set(Object.keys(categoryVisibility));
            
            // ÊéÉÊèèÊâÄÊúâÊ¥ªÂãïÔºåÊâæÂá∫Êñ∞È°ûÂà•
            monthEvents.forEach(events => {
                events.forEach(event => {
                    if (event.category && !existingCategories.has(event.category)) {
                        existingCategories.add(event.category);
                        // Ëá™ÂãïÊ∑ªÂä†Êñ∞È°ûÂà•
                        categoryVisibility[event.category] = true;
                        if (!categoryNames[event.category]) {
                            categoryNames[event.category] = event.category.toUpperCase();
                        }
                        if (!categoryColors[event.category]) {
                            categoryColors[event.category] = 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                        }
                        console.log(`üÜï ÁôºÁèæÊñ∞ÂàÜÈ°û‰∏¶Ëá™ÂãïÊ∑ªÂä†: ${event.category}`);
                    }
                });
            });
            
            // ÈáçÊñ∞ÁîüÊàêÈ°ûÂà•Âúñ‰æã
            categoryLegendContainer.innerHTML = '';
            Object.keys(categoryVisibility).sort().forEach(categoryCode => {
                const categoryItem = document.createElement('div');
                categoryItem.className = 'category-legend-item';
                categoryItem.setAttribute('data-category', categoryCode);
                categoryItem.onclick = () => toggleCategory(categoryCode);
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'category-checkbox';
                checkbox.id = `${categoryCode}-checkbox`;
                checkbox.checked = categoryVisibility[categoryCode];
                checkbox.onclick = (e) => {
                    e.stopPropagation();
                    toggleCategory(categoryCode);
                };
                
                const colorDiv = document.createElement('div');
                colorDiv.className = 'category-color';
                colorDiv.style.background = categoryColors[categoryCode] || 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                
                const nameSpan = document.createElement('span');
                nameSpan.textContent = categoryNames[categoryCode] || categoryCode.toUpperCase();
                
                categoryItem.appendChild(checkbox);
                categoryItem.appendChild(colorDiv);
                categoryItem.appendChild(nameSpan);
                categoryLegendContainer.appendChild(categoryItem);
            });
        }

        // ÂàùÂßãÂåñÊó•ÊõÜÁ≥ªÁµ±
        function initializeCalendars() {
            // ÂãïÊÖãÁîüÊàêÊúà‰ªΩË≥áÊñô
            generateMonthData();
            
            // Êõ¥Êñ∞È°ûÂà•Âúñ‰æãÔºàÊéÉÊèèÊâÄÊúâÊ¥ªÂãïÁöÑÈ°ûÂà•Ôºâ
            updateCategoryLegend();
            
            // ÂãïÊÖãÁîüÊàêÊâÄÊúâÊó•ÊõÜÂÆπÂô®ÂíåÂÖßÂÆπ
            const calendarSlider = document.getElementById('calendarSlider');
            
            if (!calendarSlider) {
                console.error('‚ùå Êâæ‰∏çÂà∞ calendarSlider ÂÖÉÁ¥†ÔºÅ');
                return;
            }
            
            calendarSlider.innerHTML = ''; // Ê∏ÖÁ©∫ÁèæÊúâÂÖßÂÆπ
            
            // ÁÇ∫ÊØèÂÄãÊúà‰ªΩÂâµÂª∫ÂÆπÂô®‰∏¶ÁîüÊàêÊó•ÊõÜ
            monthEvents.forEach((events, index) => {
                // ÂæûÊúà‰ªΩÂêçÁ®±‰∏≠ÊèêÂèñÂπ¥‰ªΩÂíåÊúà‰ªΩÊï∏Â≠ó
                const monthMatch = monthNames[index].match(/(\d{4})Âπ¥(\d{1,2})Êúà/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    
                    // ÂâµÂª∫Êúà‰ªΩÂÆπÂô®
                    const monthDiv = document.createElement('div');
                    monthDiv.className = 'calendar-month';
                    monthDiv.id = `month-${year}-${month}`;
                    
                    // ÂâµÂª∫Êó•ÊõÜÁ∂≤Ê†ºÂÆπÂô®
                    const calendarGrid = document.createElement('div');
                    calendarGrid.className = 'calendar-grid';
                    calendarGrid.id = `calendar-${year}-${month}`;
                    
                    monthDiv.appendChild(calendarGrid);
                    calendarSlider.appendChild(monthDiv);
                    
                    // ÁîüÊàêË©≤Êúà‰ªΩÁöÑÊó•ÊõÜ
                    generateCalendar(calendarGrid.id, events, year, month);
                } else {
                    console.warn(`‚ö†Ô∏è ÁÑ°Ê≥ïËß£ÊûêÊúà‰ªΩÂêçÁ®±: ${monthNames[index]}`);
                }
            });
            
            // Ë®≠ÂÆöÁï∂ÂâçÊúà‰ªΩÁÇ∫Áï∂Â§©ÊâÄÂú®ÁöÑÊúà‰ªΩ
            currentMonth = getCurrentMonthIndex();
            
            updateCalendarView();
        }

        // Prevent checkbox from toggling when clicked directly
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.venue-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const venueClass = this.id.replace('-checkbox', '');
                    toggleVenue(venueClass);
                });
            });
            
            // È°ûÂà•Ë§áÈÅ∏Ê°ÜÁöÑ‰∫ã‰ª∂Á∂ÅÂÆöÂú® updateCategoryLegend() ‰∏≠ÂãïÊÖãËôïÁêÜ
            
            // Âú® DOM Âä†ËºâÂÆåÊàêÂæåÂàùÂßãÂåñÊó•ÊõÜ
            initializeCalendars();
        });
        
        // Á¢∫‰øùÊó•ÊõÜÁîüÊàêÂæåÁ´ãÂç≥Ë™øÊï¥È´òÂ∫¶
        setTimeout(adjustCalendarHeight, 100);
        setTimeout(adjustCalendarHeight, 500);

        // ÂÑ™ÂåñËß∏ÊéßÈ´îÈ©ó
        if ('ontouchstart' in window) {
            document.body.classList.add('touch-device');
        }

        // Áõ£ËÅΩË¶ñÁ™óÂ§ßÂ∞èÊîπËÆäÔºåÈáçÊñ∞Ë™øÊï¥Êó•ÊõÜÈ´òÂ∫¶
        window.addEventListener('resize', function() {
            applyLegendCollapseByViewport();
            setTimeout(adjustCalendarHeight, 100);
        });

        // È†ÅÈù¢ËºâÂÖ•ÂÆåÊàêÂæåË™øÊï¥È´òÂ∫¶
        window.addEventListener('load', function() {
            setTimeout(adjustCalendarHeight, 200);
        });

        // =====================
        // Ëê¨ËÅñÁØÄÂπΩÈùàË£ùÈ£æÔºàÂÖ®Ëû¢Âπï‰∫ÇÁßªÂãïÔºãÊ∑°ÂÖ•Ê∑°Âá∫Ôºâ
        // =====================
        function createHalloweenDecorations() {
            const decorationsContainer = document.getElementById('halloweenDecorations');
            if (!decorationsContainer) return;

            // Ê∏ÖÁ©∫
            decorationsContainer.innerHTML = '';

            const decorations = [
                { emoji: 'üëª', class: 'ghost', count: 5 }
            ];

            decorations.forEach(decoration => {
                for (let i = 0; i < decoration.count; i++) {
                    const element = document.createElement('div');
                    element.className = `halloween-decoration ${decoration.class}`;
                    element.textContent = decoration.emoji;

                    // Èö®Ê©üÂàùÂßã‰ΩçÁΩÆËàáÂª∂ÈÅ≤
                    element.style.top = Math.random() * 80 + 10 + '%';
                    element.style.left = Math.random() * 80 + 10 + '%';
                    element.style.animationDelay = (Math.random() * 2) + 's';

                    decorationsContainer.appendChild(element);
                }
            });

            function moveGhostsRandomly() {
                const ghosts = decorationsContainer.querySelectorAll('.ghost');
                ghosts.forEach((g) => {
                    const toX = Math.random() * 100; // vw
                    const toY = Math.random() * 100; // vh
                    const scale = 0.8 + Math.random() * 0.6;
                    const rotate = (Math.random() * 20 - 10);
                    const duration = 4 + Math.random() * 4; // 4~8s

                    g.style.transitionDuration = duration + 's, ' + Math.max(2, duration - 1) + 's';
                    g.style.opacity = Math.random() > 0.5 ? 0.9 : 0.5;
                    g.style.transform = `translate(${toX}vw, ${toY}vh) scale(${scale}) rotate(${rotate}deg)`;
                });
            }

            moveGhostsRandomly();
            setInterval(moveGhostsRandomly, 5000);
        }

        function checkForHalloweenDecorations() {
            const today = new Date();
            const currentMonth = today.getMonth() + 1;
            if (currentMonth === 10) {
                createHalloweenDecorations();
            }
        }

        // =====================
        // Á•û‰æÜ‰∏ÄÂ†¥ÔºöÈö®Ê©üÊåëÈÅ∏Êú™‰æÜÊ¥ªÂãïÔºà‰∏çÂê´‰ªäÂ§©ÔºåÂ∞äÈáçÂ†¥Âú∞ËàáÂàÜÈ°ûÁØ©ÈÅ∏Ôºâ
        // =====================
        function triggerRandomEvent() {
            const btn = document.querySelector('.floating-random-button .random-button');
            if (!btn) return;
            // Ëã•Â∑≤Âú®ÊäΩÈÅ∏‰∏≠ÔºåÈÅøÂÖçÈáçÂÖ•
            if (btn.classList.contains('disabled')) return;

            // ÈÄ≤ÂÖ•ÊäΩÈÅ∏ÔºöÂÅúÁî®ÊåâÈàï + È°ØÁ§∫ÈÅÆÁΩ©ÂãïÁï´
            btn.classList.add('disabled');
            btn.setAttribute('aria-busy', 'true');

            const overlay = document.createElement('div');
            overlay.className = 'random-overlay';
            overlay.innerHTML = '<div class="random-dice">üé≤</div>';
            document.body.appendChild(overlay);

            const finish = (action) => {
                try { action && action(); } catch (_) {}
                // ÈóúÈñâÂãïÁï´‰∏¶ÊÅ¢Âæ©ÊåâÈàï
                if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
                btn.classList.remove('disabled');
                btn.removeAttribute('aria-busy');
            };

            try {
                const today = getCurrentDate();

                // Êî∂ÈõÜÂêÑÊúà‰ªΩÁöÑÊ¥ªÂãïËàáÊúà‰ªΩÊï∏Â≠ó
                const pools = [];
                const addEvents = (events, monthNum) => {
                    if (!Array.isArray(events)) return;
                    events.forEach(ev => {
                        // ÈÅéÂéªÊ¥ªÂãïÊéíÈô§Ôºå‰ª•ÂèäÊéíÈô§Áï∂Â§©
                        if (!isPastDate(ev.date, monthNum) && !(monthNum === today.month && ev.date === today.day)) {
                            // Â∞äÈáçÁõÆÂâçÂúñ‰æãÁØ©ÈÅ∏ÁãÄÊÖã
                            if (venueVisibility[ev.class] && categoryVisibility[ev.category]) {
                                pools.push({ event: ev, month: monthNum });
                            }
                        }
                    });
                };

                // ÁõÆÂâçÂ∑≤ÂÆ£ÂëäÊúà‰ªΩÔºö8„ÄÅ9„ÄÅ10
                addEvents(augustEvents, 8);
                addEvents(septemberEvents, 9);
                addEvents(octoberEvents, 10);

                // ÂãïÁï´Êí≠Êîæ‰∏ÄÊÆµÊôÇÈñìÂæåÂÜçÈ°ØÁ§∫ÁµêÊûú
                const ANIMATION_MS = 1600; // 1.6s Ë¶ñË¶∫Âª∂ÈÅ≤
                setTimeout(() => {
                    if (pools.length === 0) {
                        finish(() => alert('ÁõÆÂâçÊ≤íÊúâÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑÊú™‰æÜÊ¥ªÂãïÂèØÊäΩÈÅ∏„ÄÇ'));
                        return;
                    }

                    const idx = Math.floor(Math.random() * pools.length);
                    const picked = pools[idx];
                    finish(() => showEventDetails(picked.event, picked.month));
                }, ANIMATION_MS);
            } catch (e) {
                console.error('triggerRandomEvent ÁôºÁîüÈåØË™§Ôºö', e);
                finish(() => alert('ÊäΩÈÅ∏ÊôÇÁôºÁîüÈåØË™§ÔºåË´ãÁ®çÂæåÂÜçË©¶„ÄÇ'));
            }
        }
    </script>
</body>
</html>
            