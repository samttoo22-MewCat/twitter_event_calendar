<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=3.0">
    <title>å°ä¸­BDSMè¡Œäº‹æ›†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
    background: radial-gradient(circle at 20% 80%, rgba(220, 20, 60, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0, 52, 148, 0.15) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.08) 0%, transparent 50%), linear-gradient(135deg, #001f3f 0%, #003366 25%, #0047AB 50%, #4169E1 75%, #6495ED 100%);
}

        body::before {
    background: radial-gradient(circle at 15% 25%, rgba(220, 20, 60, 0.1) 0%, transparent 25%), radial-gradient(circle at 85% 75%, rgba(0, 52, 148, 0.1) 0%, transparent 25%), radial-gradient(circle at 50% 10%, rgba(255, 255, 255, 0.06) 0%, transparent 30%);
}

        .container {
    background: radial-gradient(circle at 30% 20%, rgba(220, 20, 60, 0.08) 0%, transparent 40%), radial-gradient(circle at 70% 80%, rgba(0, 52, 148, 0.06) 0%, transparent 35%), linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 249, 255, 0.98) 100%);
    box-shadow: 0 10px 30px rgba(220, 20, 60, 0.3);
    border: 1px solid rgba(220, 20, 60, 0.4);
}

        .header {
            background: 
                
                
                
                radial-gradient(ellipse at 25% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 50%), radial-gradient(ellipse at 75% 70%, rgba(220, 20, 60, 0.2) 0%, transparent 45%), linear-gradient(135deg, #DC143C, #C41E3A, #B22222);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                
                
                
                repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(255, 255, 255, 0.15) 8px, rgba(255, 255, 255, 0.15) 16px), repeating-linear-gradient(-45deg, transparent, transparent 12px, rgba(0, 52, 148, 0.12) 12px, rgba(0, 52, 148, 0.12) 24px);
            pointer-events: none;
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 8px;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .header .subtitle:hover {
            opacity: 1;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .header p:hover {
            opacity: 1;
            text-decoration: underline;
        }

        .update-info {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: none;
        }

        .update-info-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .update-info-title::before {
            content: "ğŸ“…";
            font-size: 1.1rem;
        }

        .update-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .update-item {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.95rem;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .update-item:last-child {
            border-bottom: none;
        }

        .update-date {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            white-space: nowrap;
        }

        .update-content {
            flex: 1;
        }

        .legend {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .legend-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: default;
        }

        .category-legend {
            padding: 15px;
            background: #f0f8ff;
            border-bottom: 1px solid #e9ecef;
        }

        .category-legend-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
            cursor: default;
        }

        .category-legend-title::before {
            content: "";
            font-size: 1.1rem;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .category-legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            padding: 5px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            user-select: none;
        }

        .legend-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .legend-item:active {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .category-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            padding: 5px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            user-select: none;
        }

        .category-legend-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .category-legend-item:active {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .venue-checkbox {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            cursor: pointer;
        }

        .category-checkbox {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            cursor: pointer;
        }

        .legend-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .category-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .venue-link {
            color: #3498db;
            text-decoration: underline;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .venue-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        .calendar-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .nav-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            min-width: 80px;
        }

        .nav-button:hover {
            background: linear-gradient(135deg, #2980b9, #21618c);
            transform: translateY(-1px);
        }

        .nav-button:active {
            transform: translateY(0);
        }

        .nav-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .month-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .calendar-container {
            overflow: hidden;
            position: relative;
            min-height: 600px;
        }

        .calendar-slider {
            display: flex;
            transition: transform 0.3s ease;
            width: auto;
            min-height: 600px;
            align-items: flex-start;
        }

        .calendar-month {
            width: 100%;
            flex-shrink: 0;
            min-height: 600px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e9ecef;
            padding: 15px 10px;
        }

        .day-header {
    background: radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.2) 0%, transparent 60%), linear-gradient(135deg, #003DA5, #0047AB, #4169E1);
}

        .day-header::before {
    background: repeating-linear-gradient(90deg, transparent, transparent 4px, rgba(255, 255, 255, 0.2) 4px, rgba(255, 255, 255, 0.2) 8px);
}

        .day-cell {
    background: radial-gradient(circle at 20% 20%, rgba(220, 20, 60, 0.05) 0%, transparent 40%), radial-gradient(circle at 80% 80%, rgba(0, 52, 148, 0.04) 0%, transparent 35%), linear-gradient(135deg, #FFFFFF, #F8F9FF);
    border: 1px solid rgba(0, 52, 148, 0.25);
}

        .day-cell::before {
    background: repeating-linear-gradient(30deg, transparent, transparent 15px, rgba(220, 20, 60, 0.03) 15px, rgba(220, 20, 60, 0.03) 30px);
}

        .day-cell:active {
            transform: scale(0.98);
        }

        .day-number {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 6px;
            text-align: center;
        }

        .event {
            background: #3498db;
            color: white;
            padding: 4px 6px;
            margin: 3px 0;
            border-radius: 4px;
            font-size: 0.7rem;
            line-height: 1.3;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            word-break: break-word;
            -webkit-tap-highlight-color: rgba(0,0,0,0.1);
        }

        .event:active {
            transform: scale(0.95);
            opacity: 0.8;
        }

        .event.jukuya { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .event.toyroom { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .event.gengyiroom { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .event.think { background: linear-gradient(135deg, #2ecc71, #27ae60); }
        .event.zoo { background: linear-gradient(135deg, #34495e, #2c3e50); }
        .event.other { background: linear-gradient(135deg, #7f8c8d, #95a5a6); }

        .event-venue {
            font-weight: bold;
            font-size: 0.65rem;
            opacity: 0.9;
            margin-bottom: 1px;
        }

        .event-title {
            margin: 1px 0;
            font-size: 0.7rem;
        }

        .event-time {
            font-size: 0.6rem;
            opacity: 0.8;
            margin-top: 1px;
        }

        .today {
            background: 
                
                
                radial-gradient(circle at 30% 30%, rgba(135, 206, 235, 0.3) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(173, 216, 230, 0.25) 0%, transparent 45%), linear-gradient(135deg, #B0E0E6, #87CEEB) !important;
            border: 3px solid #4682B4;
            box-shadow: 0 0 15px rgba(135, 206, 235, 0.6);
        }

        .past-day {
            opacity: 0.6;
        }

        .past-day .day-number {
            color: #999;
        }

        .event.past {
            background: #999 !important;
            color: #ccc !important;
            cursor: not-allowed;
        }

        .event.past:hover {
            transform: none;
            box-shadow: none;
        }

        .event.past:active {
            transform: none;
            opacity: 1;
        }

        .register-icon {
            position: absolute;
            top: 2px;
            right: 2px;
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            border-radius: 50%;
            width: 14px;
            height: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            overflow-y: auto;
        }

        .age-verification-modal {
            display: flex;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
        }

        .age-verification-content {
            background: white;
            padding: 40px 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .age-verification-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .age-verification-text {
            font-size: 1.1rem;
            color: #34495e;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .age-verification-disclaimer {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #3498db;
        }

        .age-verification-disclaimer p {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
            line-height: 1.4;
        }

        .age-verification-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .age-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 120px;
        }

        .age-btn-yes {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .age-btn-yes:hover {
            background: linear-gradient(135deg, #27ae60, #229954);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .age-btn-no {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .age-btn-no:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .age-btn:active {
            transform: scale(0.98);
        }

        .modal-content {
            background: white;
            margin: 20px auto;
            padding: 25px 20px;
            border-radius: 12px;
            width: calc(100% - 40px);
            max-width: 400px;
            position: relative;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .close {
            position: absolute;
            right: 15px;
            top: 10px;
            font-size: 28px;
            cursor: pointer;
            color: #aaa;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close:active {
            background: #f0f0f0;
            color: #333;
        }

        .register-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: bold;
            transition: all 0.2s ease;
            margin-top: 15px;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        .register-button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .register-button.disabled {
            background: #999 !important;
            color: #ccc !important;
            cursor: not-allowed;
            pointer-events: none;
        }

        .register-button.pending {
            background: #95a5a6 !important;
            color: white !important;
        }

        .register-button.disabled:active {
            transform: none;
            opacity: 1;
        }

        .event-category-tag {
            display: inline-block;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        /* æ›´ä¸é¡¯çœ¼çš„ä¸­æ€§åˆ†é¡ç±¤ï¼ˆç”¨æ–¼æ—¥æ›†å¡ç‰‡ï¼‰ */
        .event-category-chip {
            display: inline-block;
            background: #f1f3f5;
            color: #666;
            padding: 1px 4px;
            border-radius: 8px;
            font-size: 0.55rem;
            font-weight: normal;
            margin-left: 4px;
            line-height: 1.2;
        }

        .error-report {
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 20px;
            text-align: center;
        }

        .error-report-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .error-report-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }

        .error-report-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: bold;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .error-report-button:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .error-report-button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }


        .friend-links {
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 20px;
            text-align: center;
        }

        .friend-links-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .friend-links-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .friend-link {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255, 140, 0, 0.25) 0%, transparent 45%),
                radial-gradient(circle at 70% 70%, rgba(255, 165, 0, 0.2) 0%, transparent 40%),
                linear-gradient(135deg, #ff8c00, #ffa500, #ffb347);
            color: #3b2500;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 24px 24px 18px 18px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            transition: all 0.2s ease;
            box-shadow: 0 6px 16px rgba(255, 140, 0, 0.28);
            -webkit-tap-highlight-color: transparent;
            position: relative;
            border: 2px solid rgba(139, 69, 19, 0.25);
        }

        .friend-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 22px rgba(255, 140, 0, 0.35);
            filter: brightness(1.02);
        }

        .friend-link:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        /* å—ç“œæ¢ç´‹èˆ‡æ¢— */
        .friend-link::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 24px 24px 18px 18px;
            background-image:
                radial-gradient(ellipse at 20% 50%, rgba(139, 69, 19, 0.16) 0%, rgba(139, 69, 19, 0.0) 55%),
                radial-gradient(ellipse at 50% 50%, rgba(139, 69, 19, 0.2) 0%, rgba(139, 69, 19, 0.0) 60%),
                radial-gradient(ellipse at 80% 50%, rgba(139, 69, 19, 0.16) 0%, rgba(139, 69, 19, 0.0) 55%);
            pointer-events: none;
        }

        .friend-link::after {
            content: '';
            position: absolute;
            top: -8px;
            width: 18px;
            height: 14px;
            border-radius: 6px 6px 10px 10px;
            background: linear-gradient(180deg, #3e7a2a, #2e5e20);
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 2px 0 rgba(0, 0, 0, 0.08);
        }

        .friend-link-icon { color: #2e1a00; }
        .friend-link-text { color: #2e1a00; text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4); }

        .friend-link-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .friend-link-text {
            font-size: 0.9rem;
            font-weight: bold;
            text-align: center;
        }

        .floating-error-button {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
        }

        /* ç¥ä¾†ä¸€å ´ï¼šç½®æ–¼éŒ¯èª¤å›å ±æ³¡æ³¡ä¸Šæ–¹ */
        .floating-random-button {
            position: fixed;
            bottom: 160px; /* é«˜æ–¼éŒ¯èª¤å›å ±(100px) */
            right: 20px;
            z-index: 1000;
        }

        /* ç¥ä¾†ä¸€å ´æŒ‰éˆ•é…è‰²ï¼ˆç²‰ç´«è‰²ç³»ï¼‰ */
        .random-button {
            background: linear-gradient(135deg, #ff8ab8, #8e44ad);
        }
        .random-button:hover {
            background: linear-gradient(135deg, #ff5fa2, #7d3c98);
        }

        /* ç¥ä¾†ä¸€å ´ï¼šé¿å…é€£é»çš„åœç”¨æ¨£å¼ */
        .random-button.disabled {
            pointer-events: none;
            filter: grayscale(20%);
            opacity: 0.85;
        }

        /* æŠ½ç±¤å‹•ç•«é®ç½©èˆ‡éª°å­ */
        .random-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.55);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3500;
        }
        .random-dice {
            font-size: 3rem;
            width: 72px;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ff8ab8, #8e44ad);
            color: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
            animation: diceSpin 1.2s ease-in-out infinite;
        }
        @keyframes diceSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.08); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .floating-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            animation: float 3s ease-in-out infinite;
        }

        /* æå‡ç¥ä¾†ä¸€å ´æŒ‰éˆ•çš„èƒŒæ™¯å„ªå…ˆåº¦ï¼Œé¿å…è¢« .floating-button è¦†è“‹ */
        .floating-button.random-button {
            background: linear-gradient(135deg, #ff8ab8, #8e44ad) !important;
            z-index: 1;
        }
        .floating-button.random-button:hover {
            background: linear-gradient(135deg, #ff5fa2, #7d3c98) !important;
        }
        
        .floating-button:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .floating-button:active {
            transform: scale(0.95);
        }

        .floating-button-icon {
            font-size: 1.2rem;
        }

        .floating-button-text {
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        /* è¬è–ç¯€ï¼šåƒ…å¹½éˆï¼Œéš¨æ©Ÿå…¨è¢å¹•ç§»å‹•èˆ‡æ·¡å…¥æ·¡å‡º */
        .halloween-decoration {
            position: fixed;
            font-size: 2rem;
            z-index: 1;
            pointer-events: none;
            opacity: 0;
            transition: transform 6s ease-in-out, opacity 3s ease-in-out;
            will-change: transform, opacity;
        }
        .ghost { text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        .updates-toggle-btn {
            margin-top: 10px;
            background: linear-gradient(135deg, #6c757d, #495057);
            color: #ffffff;
            border: none;
            padding: 8px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            transition: all 0.2s ease;
            display: none;
        }

        .updates-toggle-btn:hover {
            background: linear-gradient(135deg, #495057, #343a40);
            transform: translateY(-1px);
        }

        /* æ‰‹æ©Ÿæ©«å‘æ¨¡å¼å„ªåŒ–ï¼ˆç›´å‘é™å®šï¼‰ */
        @media (max-width: 768px) and (orientation: portrait) {
            body {
                padding: 5px;
                font-size: 13px;
            }
            
            .calendar-container {
                min-height: 500px;
            }
            
            .calendar-slider {
                min-height: 500px;
            }
            
            .calendar-month {
                min-height: 500px;
            }
            
            .calendar-grid {
                padding: 10px 5px;
                min-height: 500px;
            }
            
            .day-cell {
                min-height: 120px;
                padding: 5px 4px;
            }
            
            .day-header {
                padding: 10px 3px;
                font-size: 0.8rem;
            }
            
            .event {
                font-size: 0.65rem;
                padding: 3px 4px;
                margin: 2px 0;
            }
            
            .event-venue {
                font-size: 0.6rem;
            }
            
            .event-title {
                font-size: 0.65rem;
            }
            
            .event-time {
                font-size: 0.55rem;
            }

            /* æ‰‹æ©Ÿï¼šéš±è—æ—¥æ›†å¡ç‰‡ä¸Šçš„åˆ†é¡ç±¤ï¼Œé¿å…æ“æ“ ï¼ˆä¸å½±éŸ¿å½ˆçª—å…§çš„ .event-category-tagï¼‰ */
            .event-category-chip {
                display: none !important;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header .subtitle {
                font-size: 0.8rem;
            }

            .header p {
                font-size: 0.85rem;
            }

            .legend {
                padding: 12px;
            }

            .legend-items {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .legend-item {
                font-size: 0.8rem;
            }

            /* æ‰‹æ©Ÿï¼šåœ–ä¾‹æ¨™é¡Œå¯é»æ“ŠæŠ˜ç–Š */
            .legend-title,
            .category-legend-title {
                cursor: pointer;
                user-select: none;
            }

            /* æŠ˜ç–Šç‹€æ…‹éš±è—å…§å®¹ */
            .legend.collapsed .legend-items {
                display: none;
            }
            .category-legend.collapsed .category-legend-items {
                display: none;
            }

            /* å³å´åŠ å…¥ï¼‹ï¼ï¼æç¤º */
            .legend-title::after,
            .category-legend-title::after {
                content: 'ï¼';
                font-weight: 700;
                margin-left: auto;
                color: #495057;
            }
            .legend.collapsed .legend-title::after,
            .category-legend.collapsed .category-legend-title::after {
                content: 'ï¼‹';
            }

            .category-legend {
                padding: 12px;
            }

            .category-legend-items {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .category-legend-item {
                font-size: 0.8rem;
            }

            .calendar-navigation {
                padding: 10px 15px;
            }

            .nav-button {
                padding: 8px 12px;
                font-size: 0.8rem;
                min-width: 60px;
            }

            .month-title {
                font-size: 1.1rem;
            }

            .update-info {
                padding: 15px;
            }

            .update-info-title {
                font-size: 1.1rem;
            }

            .update-item {
                font-size: 0.9rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .update-date {
                font-size: 0.75rem;
            }

            .error-report {
                padding: 15px;
            }

            .error-report-title {
                font-size: 1rem;
            }

            .error-report-subtitle {
                font-size: 0.85rem;
            }

            .error-report-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .friend-links {
                padding: 15px;
            }

            .friend-links-title {
                font-size: 1rem;
            }

            .friend-links-container {
                gap: 10px;
            }

            .friend-link {
                padding: 12px 15px;
                min-width: 100px;
            }

            .friend-link-icon {
                font-size: 1.3rem;
            }

            .friend-link-text {
                font-size: 0.8rem;
            }

            .floating-error-button {
                bottom: 80px;
                right: 15px;
            }

            .floating-random-button {
                bottom: 140px;
                right: 15px;
            }

            .floating-button {
                padding: 12px 16px;
                gap: 8px;
            }

            .floating-button-icon {
                font-size: 1.1rem;
            }

            .floating-button-text {
                font-size: 0.8rem;
            }
        }

        /* å°è¢å¹•æ‰‹æ©Ÿå„ªåŒ– */
        @media (max-width: 480px) {
            .age-verification-content {
                padding: 30px 20px;
                margin: 20px 10px;
            }

            .age-verification-title {
                font-size: 1.5rem;
            }

            .age-verification-text {
                font-size: 1rem;
            }

            .age-verification-buttons {
                flex-direction: column;
                align-items: center;
            }

            .age-btn {
                width: 100%;
                max-width: 200px;
            }

            .calendar-container {
                min-height: 450px;
            }
            
            .calendar-slider {
                min-height: 450px;
            }
            
            .calendar-month {
                min-height: 450px;
            }
            
            .calendar-grid {
                min-height: 450px;
            }

            .day-cell {
                min-height: 100px;
                padding: 4px 3px;
            }
            
            .event {
                font-size: 0.6rem;
                padding: 2px 3px;
            }
            
            .event-venue {
                font-size: 0.55rem;
            }
            
            .event-title {
                font-size: 0.6rem;
            }
            
            .event-time {
                font-size: 0.5rem;
            }

            .day-header {
                padding: 8px 2px;
                font-size: 0.75rem;
            }

            .modal-content {
                margin: 10px;
                width: calc(100% - 20px);
                padding: 20px 15px;
            }

            .friend-links {
                padding: 12px;
            }

            .friend-links-container {
                flex-direction: row;
                justify-content: flex-start;
                gap: 4px;
                flex-wrap: wrap;
                max-width: 75%;
                margin: 0;
                padding-left: 10px;
            }

            .friend-link {
                flex: 0 0 calc(25% - 3px);
                min-width: 0;
                max-width: calc(25% - 3px);
                padding: 6px 4px;
                flex-direction: column;
                justify-content: center;
                gap: 3px;
            }

            .friend-link-icon {
                font-size: 0.8rem;
                margin-bottom: 0;
            }

            .friend-link-text {
                font-size: 0.6rem;
                text-align: center;
                line-height: 1.0;
            }

            /* å°è¢å¹•åŒæ¨£æ”¯æ´æŠ˜ç–Š */
            .legend-title,
            .category-legend-title {
                cursor: pointer;
                user-select: none;
            }
            .legend.collapsed .legend-items {
                display: none;
            }
            .category-legend.collapsed .category-legend-items {
                display: none;
            }
            .legend-title::after,
            .category-legend-title::after {
                content: 'ï¼';
                font-weight: 700;
                margin-left: auto;
                color: #495057;
            }
            .legend.collapsed .legend-title::after,
            .category-legend.collapsed .category-legend-title::after {
                content: 'ï¼‹';
            }

            .floating-error-button {
                bottom: 80px;
                right: 15px;
            }

            .floating-random-button {
                bottom: 140px; /* äº¦ç›¸å°æŠ¬é«˜æ–¼éŒ¯èª¤å›å ± */
                right: 15px;
            }

            .floating-button {
                padding: 10px 14px;
                gap: 6px;
            }

            .floating-button-icon {
                font-size: 1rem;
            }

            .floating-button-text {
                font-size: 0.75rem;
            }
        }

        /* è§¸æ§å„ªåŒ– */
        @media (hover: none) and (pointer: coarse) {
            .event:hover {
                transform: none;
                box-shadow: none;
            }
            
            .day-cell:hover {
                transform: none;
                box-shadow: none;
            }

            .nav-button {
                display: none;
            }

            .error-report-button:hover {
                transform: none;
                box-shadow: none;
            }

            .friend-link:hover {
                transform: none;
                box-shadow: 0 4px 12px rgba(52, 152, 219, 0.2);
            }

            .floating-button:hover {
                transform: none;
                box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
            }

            .floating-button {
                animation: none;
            }
        }

        /* ç¢ºä¿æ–‡å­—å¯è®€æ€§ */
        @media (prefers-color-scheme: dark) {
            .modal-content {
                background: #1a1a1a;
                color: #ffffff;
            }
            
            .close {
                color: #cccccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸƒå°ä¸­BDSMè¡Œäº‹æ›†ğŸƒ</h1>
            <div class="subtitle" id="randomSubtitle">è¾²æ°‘æ›†èªªä»Šæ—¥å®œSP</div>
            <p onclick="toggleUpdateInfo()">æœ€å¾Œæ›´æ–°æ—¥ï¼š2025.10.03(é»æˆ‘æŸ¥çœ‹)</p>
        </div>

        <div class="update-info" id="updateInfo">
            <div class="update-info-title">æ›´æ–°è³‡è¨Š</div>
            <ul class="update-list">
                <li class="update-item">
                    <span class="update-date">10/3</span>
                    <span class="update-content">âœ”ï¸æ–°å¢æ´»å‹•<br>ğŸ·ï¸æ¨™ç±¤ç¾åœ¨æœƒé¡¯ç¤ºåœ¨æ—¥æ›†ä¸­(æ‰‹æ©Ÿç‰ˆç‚ºç‰ˆé¢æ•´æ½”ä¸æœƒé¡¯ç¤º)<br>ğŸª¢æ´»å‹•ç¾å·²é‡æ–°åˆ†é¡éã€ä¸¦æ–°å¢ç¹©ç¸›å°ˆå±¬åˆ†é¡</span>
                </li>
                <li class="update-item">
                    <span class="update-date">10/2</span>
                    <span class="update-content">è¬è–ç¯€è£é£¾æ›´æ–°ğŸƒã€å‹•æ–¹10æœˆæ´»å‹•æ›´æ–°ã€åˆ†é¡åŠŸèƒ½</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/25</span>
                    <span class="update-content">10æœˆæ´»å‹•ã€å³å°‡åŠ å…¥ï¼šåˆ†é¡+è‡ªå‹•å°å…¥åŠŸèƒ½</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/20</span>
                    <span class="update-content">éŒ¯èª¤å›å ±æ”¹ç‚ºæ°£æ³¡é¡¯ç¤ºã€ç¶²é åº•éƒ¨åŠ å…¥å‹æƒ…é€£çµå·¥å…·æŒ‰éˆ•</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/15</span>
                    <span class="update-content">æ´»å‹•åˆŠèª¤æ›´æ–°(<a href="javascript:void(0)" onclick="showErrorCorrectionModal()" style="color: #3498db; text-decoration: underline; cursor: pointer;">é»æˆ‘æŸ¥é–±</a>)ã€å‹•æ–¹æ´»å‹•è¡¨å–®é€£çµæ›´æ–°</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/3</span>
                    <span class="update-content">æ·»åŠ æ–°æ´»å‹•<br>æ–°å¢"å…¶ä»–"éç‰¹å®šä¸»è¾¦æ–¹é¸é …<br>æ€å®˜æ–¹å·²å…¬å‘Šï¼Œæœ¬æœˆä¸æœƒæœ‰æ´»å‹•(<a href="https://x.com/s9808191779632/status/1962884105189957860" target="_blank" style="color: #3498db; text-decoration: underline;">é»æˆ‘æŸ¥çœ‹</a>)</span>
                </li>
                <li class="update-item">
                    <span class="update-date">9/2</span>
                    <span class="update-content">æ·»åŠ 9æœˆç©å…·é–“æ´»å‹•<br>ç¾åœ¨é»æ“Šä¸»è¾¦æ–¹åç¨±å¯å‰å¾€å…¶å®˜æ–¹ç¶²ç«™<br>æ–°å¢æ›´æ–°åä¸‰å¤©é€²å…¥ç¶²ç«™æœƒé¡¯ç¤ºæ›´æ–°æç¤º<br>ç¾åœ¨é€²å…¥ç¶²ç«™æœƒç›´æ¥é¡¯ç¤ºç•¶å¤©çš„æœˆä»½</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/26</span>
                    <span class="update-content">æ›´æ–°å‹•ç‰©æ–¹ç¨‹å¼8/31æ´»å‹•</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/24</span>
                    <span class="update-content">æ›´æ–°9æœˆéƒ¨åˆ†æ´»å‹•</span>
                </li>
                <li class="update-item">
                    <span class="update-date">8/20</span>
                    <span class="update-content">æ–°å¢æ´»å‹•</span>
                </li>
            </ul>
            <button id="updatesToggleBtn" class="updates-toggle-btn">æ›´å¤šæ›´æ–°è³‡è¨Š</button>
        </div>

        <div class="legend">
            <div class="legend-title">å ´åœ°åœ–ä¾‹ - é»æ“Šåˆ‡æ›é¡¯ç¤º</div>
            <div class="legend-items">
                <div class="legend-item" data-venue="jukuya" onclick="toggleVenue('jukuya')">
                    <input type="checkbox" class="venue-checkbox" id="jukuya-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('jukuya', event)">æ‹˜ä¹…å±‹</span>
                </div>
                <div class="legend-item" data-venue="toyroom" onclick="toggleVenue('toyroom')">
                    <input type="checkbox" class="venue-checkbox" id="toyroom-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('toyroom', event)">ç©å…·é–“</span>
                </div>
                <div class="legend-item" data-venue="gengyiroom" onclick="toggleVenue('gengyiroom')">
                    <input type="checkbox" class="venue-checkbox" id="gengyiroom-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('gengyiroom', event)">æ›´è¡£é–“</span>
                </div>
                <div class="legend-item" data-venue="think" onclick="toggleVenue('think')">
                    <input type="checkbox" class="venue-checkbox" id="think-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #2ecc71, #27ae60);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('think', event)">æ€</span>
                </div>
                <div class="legend-item" data-venue="zoo" onclick="toggleVenue('zoo')">
                    <input type="checkbox" class="venue-checkbox" id="zoo-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #34495e, #2c3e50);"></div>
                    <span class="venue-link" onclick="openVenueWebsite('zoo', event)">å‹•ç‰©æ–¹ç¨‹å¼</span>
                </div>
                <div class="legend-item" data-venue="other" onclick="toggleVenue('other')">
                    <input type="checkbox" class="venue-checkbox" id="other-checkbox" checked>
                    <div class="legend-color" style="background: linear-gradient(135deg, #7f8c8d, #95a5a6);"></div>
                    <span class="venue-link">å…¶ä»–</span>
                </div>
            </div>
        </div>

        <div class="category-legend">
            <div class="category-legend-title">æ´»å‹•åˆ†é¡ - é»æ“Šåˆ‡æ›é¡¯ç¤º(åƒ…ä¾›åƒè€ƒ)</div>
            <div class="category-legend-items">
                <div class="category-legend-item" data-category="sp" onclick="toggleCategory('sp')">
                    <input type="checkbox" class="category-checkbox" id="sp-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"></div>
                    <span>SP</span>
                </div>
                <div class="category-legend-item" data-category="bd" onclick="toggleCategory('bd')">
                    <input type="checkbox" class="category-checkbox" id="bd-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #8e44ad, #9b59b6);"></div>
                    <span>æŸç¸›</span>
                </div>
                <div class="category-legend-item" data-category="bds" onclick="toggleCategory('bds')">
                    <input type="checkbox" class="category-checkbox" id="bds-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #d2b48c, #a67c52);"></div>
                    <span>ç¹©ç¸›</span>
                </div>
                <div class="category-legend-item" data-category="so" onclick="toggleCategory('so')">
                    <input type="checkbox" class="category-checkbox" id="so-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #2ecc71, #27ae60);"></div>
                    <span>äº¤æµ</span>
                </div>
                <div class="category-legend-item" data-category="wk" onclick="toggleCategory('wk')">
                    <input type="checkbox" class="category-checkbox" id="wk-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>
                    <span>å·¥ä½œåŠ</span>
                </div>
                <div class="category-legend-item" data-category="ss" onclick="toggleCategory('ss')">
                    <input type="checkbox" class="category-checkbox" id="ss-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #34495e, #2c3e50);"></div>
                    <span>ç‰¹æ®Šä¸»é¡Œ</span>
                </div>
                <div class="category-legend-item" data-category="hy" onclick="toggleCategory('hy')">
                    <input type="checkbox" class="category-checkbox" id="hy-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #ff8ab8, #ff5fa2);"></div>
                    <span>å‚¬çœ </span>
                </div>
                <div class="category-legend-item" data-category="or" onclick="toggleCategory('or')">
                    <input type="checkbox" class="category-checkbox" id="or-checkbox" checked>
                    <div class="category-color" style="background: linear-gradient(135deg, #7f8c8d, #95a5a6);"></div>
                    <span>å…¶ä»–</span>
                </div>
            </div>
        </div>

        <div class="calendar-navigation">
            <button class="nav-button" id="prevBtn" onclick="changeMonth(-1)">
                â† ä¸Šå€‹æœˆ
            </button>
            <div class="month-title" id="monthTitle">2025å¹´8æœˆ</div>
            <button class="nav-button" id="nextBtn" onclick="changeMonth(1)">
                ä¸‹å€‹æœˆ â†’
            </button>
        </div>

        <div class="calendar-container" id="calendarContainer">
            <div class="calendar-slider" id="calendarSlider">
                <!-- Calendar months will be dynamically generated by JavaScript -->
            </div>
        </div>

        <div class="friend-links">
            <div class="friend-links-title">å‹æƒ…é€£çµ</div>
            <div class="friend-links-container">
                <a href="https://the-potion.com/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">ğŸ§ª</div>
                    <div class="friend-link-text">BDSMæ¸¬é©—</div>
                </a>
                <a href="https://tompuppy444.github.io/Kinkty-Demo1.0.0/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">ğŸ”§</div>
                    <div class="friend-link-text">Kinktyå°å·¥å…·</div>
                </a>
                <a href="https://spanksystem.pages.dev/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">ğŸ¯</div>
                    <div class="friend-link-text">SPç³»çµ±</div>
                </a>
                <a href="https://bdsmxqr.yay.boo/" target="_blank" class="friend-link">
                    <div class="friend-link-icon">ğŸ“±</div>
                    <div class="friend-link-text">æ¨ç‰¹QRç”¢ç”Ÿå™¨</div>
                </a>
            </div>
        </div>
    </div>

    <!-- ç¥ä¾†ä¸€å ´æµ®å‹•æŒ‰éˆ•ï¼ˆç½®æ–¼éŒ¯èª¤å›å ±æ³¡æ³¡ä¸Šæ–¹ï¼‰ -->
    <div class="floating-random-button">
        <a href="javascript:void(0)" class="floating-button random-button" onclick="triggerRandomEvent()">
            <div class="floating-button-icon">ğŸ²</div>
            <div class="floating-button-text">ç¥ä¾†ä¸€å ´</div>
        </a>
    </div>

    <!-- å›ºå®šéŒ¯èª¤å›å ±æ°£æ³¡çƒæŒ‰éˆ• -->
    <div class="floating-error-button">
        <a href="https://x.com/WhatSub_PK" target="_blank" class="floating-button">
            <div class="floating-button-icon">ğŸ“±</div>
            <div class="floating-button-text">éŒ¯èª¤å›å ±</div>
        </a>
    </div>

    <!-- å¹´é½¡é©—è­‰å½ˆçª— -->
    <!-- è¬è–ç¯€è£é£¾å…ƒç´ å®¹å™¨ -->
    <div id="halloweenDecorations"></div>

    <div id="ageVerificationModal" class="age-verification-modal">
        <div class="age-verification-content">
            <div class="age-verification-title">å¹´é½¡ç¢ºèª</div>
            <div class="age-verification-text">
                æ‚¨æ˜¯å¦å·²å¹´æ»¿18æ­²ï¼Ÿ
            </div>
            <div class="age-verification-disclaimer">
                <p><strong>å…è²¬è²æ˜ï¼š</strong></p>
                <p>æœ¬æ´»å‹•æ—¥æ›†åƒ…ä¾›åƒè€ƒæ•´ç†ï¼Œ<br>
                    æ´»å‹•è¦å®šèˆ‡è§£é‡‹æ¬Šæ­¸æ´»å‹•ä¸»è¾¦æ–¹æ‰€æœ‰</p>
            </div>
            <div class="age-verification-buttons">
                <button class="age-btn age-btn-yes" onclick="confirmAge(true)">
                    âœ“ æ˜¯ï¼Œæˆ‘å·²å¹´æ»¿18æ­²
                </button>
                <button class="age-btn age-btn-no" onclick="confirmAge(false)">
                    âœ— å¦ï¼Œæˆ‘æœªæ»¿18æ­²
                </button>
            </div>
        </div>
    </div>

    <div id="eventModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // Events data - å¿…é ˆåœ¨æœ€å‰é¢å®£å‘Šï¼Œä½¿ç”¨ var è®“è®Šæ•¸æˆç‚º window çš„å±¬æ€§
        // EVENT_DATA_START
        var augustEvents = [
    {
        "date": 3,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "wk",
        "link": "https://forms.gle/1fjC9ydxxvSuFQcV8"
    },
    {
        "date": 9,
        "venue": "ç©å…·é–“",
        "title": "SPæ‹æ‰“äº¤æµæœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/KmtFxwr8ZniMQB167"
    },
    {
        "date": 10,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Z31WhYfnNyKV2jnS6"
    },
    {
        "date": 16,
        "venue": "ç©å…·é–“",
        "title": "åˆ¥é¤¨-V.I.På°ˆå ´",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/PRaU3j84XR6dhENY9"
    },
    {
        "date": 22,
        "venue": "ç©å…·é–“",
        "title": "å¤œé–“æ”¾é£›æ—¥",
        "time": "19:00~22:00",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/hTRqykydNxRNzaMG8"
    },
    {
        "date": 31,
        "venue": "ç©å…·é–“",
        "title": "SPæ‹æ‰“äº¤æµæœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/Dd61i5AutCoLYieK6"
    },
    {
        "date": 27,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/UK2RNunS9oGkasdJ7"
    },
    {
        "date": 10,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¿’æ—¥ ğŸŒ™",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 16,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "Soaçš„é€²éšç·´èª² ğŸ“…",
        "time": "14:00~16:30",
        "class": "zoo",
        "category": "wk",
        "link": "https://t.co/fs48unuleS"
    },
    {
        "date": 17,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "SPæ‹è³£æœƒ ğŸ“…",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "sp",
        "link": "https://t.co/KofUQtcIOR"
    },
    {
        "date": 20,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¿’æ—¥ ğŸŒ™",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 23,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "äººæ”¹&ç©¿åˆºå¯¦ä½œäº¤æµåˆ†äº« ğŸ“…",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "wk",
        "link": "https://t.co/uxlRmy5Z1g"
    },
    {
        "date": 23,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "é‚‚é€…è§’è½ ğŸŒ™",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 29,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "æ–°æ‰‹å…¥åœˆèŠå¤©å®¤ ğŸŒ™",
        "time": "19:30~21:30",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 30,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¿’æ—¥ ğŸ“…",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "so",
        "link": "https://t.co/KVM5qvXWK0"
    },
    {
        "date": 31,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "è„†éºµåˆå¾Œï¼šæƒ…æ…¾å‚¬çœ å°èš ğŸ’œ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "hy",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSce06LqCCeQ66PkQaZjsqxWu43xVwquFSbTFi5AZ07rZEFJ6w/viewform"
    },
    {
        "date": 16,
        "venue": "æ›´è¡£é–“",
        "title": "å¥³ç‹ ã® è¸©è¸æ—¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/uIEa4Icni2"
    },
    {
        "date": 17,
        "venue": "æ›´è¡£é–“",
        "title": "SPäº¤æµæ—¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://t.co/ziqbPTSnMh"
    },
    {
        "date": 20,
        "venue": "æ›´è¡£é–“",
        "title": "è¸©è¸æ—¥ (å¹³æ—¥å ´)",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/l8dEQbjrY1"
    },
    {
        "date": 23,
        "venue": "æ›´è¡£é–“",
        "title": "é…’ç²¾æ—¥",
        "time": "19:00~22:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://t.co/KMjUoy36yY"
    },
    {
        "date": 24,
        "venue": "æ›´è¡£é–“",
        "title": "å¥³åƒ•å’–å•¡å»³ 2.0",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://t.co/34BPQJI1QY"
    },
    {
        "date": 2,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "é–‹å¹•å…¸ç¦®",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": null
    },
    {
        "date": 5,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 10,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "çŸ‡çœ¼èº²è²“è²“",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/FLYbKACres"
    },
    {
        "date": 12,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 17,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç¶ä¸€ç¶ï¼Œå°±ç†Ÿäº†-ç·´ç¿’æ´»å‹•",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "bds",
        "link": "https://t.co/Pt7FsVKmQ2"
    },
    {
        "date": 19,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 26,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "18:00~21:30",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/EBXfBV6yWk"
    },
    {
        "date": 5,
        "venue": "æ€",
        "title": "åŠ‡æœ¬æ®ºä¹‹å¤œ",
        "time": "None~None",
        "class": "think",
        "category": "so",
        "link": "https://t.co/z6DN07ur4W"
    },
    {
        "date": 7,
        "venue": "æ€",
        "title": "å¾é›¶é–‹å§‹ ğŸ“º",
        "time": "19:00~21:30",
        "class": "think",
        "category": "wk",
        "link": "https://t.co/pXJ6HVKPt0"
    },
    {
        "date": 10,
        "venue": "æ€",
        "title": "è¡Œæˆ®æ—¥ ğŸ“º",
        "time": "14:00~17:00",
        "class": "think",
        "category": "wk",
        "link": "https://t.co/pXJ6HVKPt0"
    },
    {
        "date": 19,
        "venue": "æ€",
        "title": "æ¡ŒéŠæ—¥ï¼ˆç‹¼äººæ®ºï¼‰",
        "time": "None~None",
        "class": "think",
        "category": "so",
        "link": "https://t.co/KclW8k0HFB"
    },
    {
        "date": 28,
        "venue": "æ€",
        "title": "å–®å¿ƒä¹‹æ™‚ï¼ˆç´”å¥³Talkï¼‰ğŸ“º",
        "time": "19:00~21:30",
        "class": "think",
        "category": "so",
        "link": "https://t.co/BFyeJLaGP0"
    },
    {
        "date": 9,
        "venue": "æ€",
        "title": "æ–°æ‰‹å‹å–„å ´",
        "time": "19:00~21:30",
        "class": "think",
        "category": "",
        "link": "https://x.com/s9808191779632/status/1952237095445258588"
    }
];
        var septemberEvents = [
    {
        "date": 6,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Ek9G3Ff5QRBc4ZBG7"
    },
    {
        "date": 7,
        "venue": "ç©å…·é–“",
        "title": "SPæ‹æ‰“äº¤æµæœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/K1NaKA8J8VXWxtFg9"
    },
    {
        "date": 13,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/ZWvoSHawsB1b2Ghg8"
    },
    {
        "date": 17,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/oZcgBEUUUWfmHxPg6"
    },
    {
        "date": 20,
        "venue": "ç©å…·é–“",
        "title": "SPæ‹æ‰“äº¤æµæœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/nWCf3Ngxu7fpYTFu9"
    },
    {
        "date": 27,
        "venue": "ç©å…·é–“",
        "title": "åˆ¥é¤¨-V.I.På°ˆå ´",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/pZmWWU1rbedPL7pF7"
    },
    {
        "date": 10,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¿’æ—¥",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 13,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "æƒ…æ…¾å‚¬çœ å¯¦ä½œå·¥ä½œåŠ(åˆéš)",
        "time": "14:00~17:30",
        "class": "zoo",
        "category": "hy",
        "link": "https://t.co/9ACMhRuNw8"
    },
    {
        "date": 20,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "è‚†æ„å³èˆˆï¼šä¸€ç¹©åŸºç¤å·¥ä½œåŠ",
        "time": "15:00~18:00",
        "class": "zoo",
        "category": "bds",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSeHI_-SV1dyex705-42bhKdJGIpYEco5kaqGs9lwoPuX8p-xA/viewform"
    },
    {
        "date": 20,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¿’æ—¥",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 26,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "æ–°æ‰‹å…¥åœˆèŠå¤©æœƒ",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 27,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "å¥³ä¸»å…±å­¸æœƒ",
        "time": "14:00~17:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 27,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "é‚‚é€…è§’è½",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSe0ZU2xnjZl2eLljvhylnTxxCMu-6zwYfSguZeCrZeTw9JPuA/viewform"
    },
    {
        "date": 6,
        "venue": "æ›´è¡£é–“",
        "title": "TKæ—¥å¸¸",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/5uuS6jrv5dCT5Zj98"
    },
    {
        "date": 13,
        "venue": "æ›´è¡£é–“",
        "title": "é…’ç²¾æ—¥party night",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/MPZeNnXbtnTCFgJ98"
    },
    {
        "date": 14,
        "venue": "æ›´è¡£é–“",
        "title": "å¥³ç‹å¯©åˆ¤æ—¥!!",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/4dF9x668TwUWRgjK7"
    },
    {
        "date": 20,
        "venue": "æ›´è¡£é–“",
        "title": "Cosä¸»é¡Œ ç¬¬ä¹ç¯€èª² ç¥•å¯†æ•™å®¤",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/ERMXMJqNAFLUNYXh8"
    },
    {
        "date": 21,
        "venue": "æ›´è¡£é–“",
        "title": "å°¿é“èª¿æ•™å…¥é–€<å¥³ç”Ÿ> å«è¡¨æ¼”ç¤ºç¯„",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "wk",
        "link": "https://forms.gle/9EsmBvM6GpHVWpDE8"
    },
    {
        "date": 27,
        "venue": "æ›´è¡£é–“",
        "title": "è Ÿç‡­æ™šå®´",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/62psNQ6XuETPsm7Y8"
    },
    {
        "date": 28,
        "venue": "æ›´è¡£é–“",
        "title": "SP äº¤æµæ—¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://forms.gle/ziK96e1mbKvqqJfw8"
    },
    {
        "date": 3,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 10,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 13,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "åƒé£¯ï¼Œä¹Ÿåƒè¾£ï½œBDSM å¾®è¾£æ™šå®´ ft.ç†Šæ‹”",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/5UMU4LbYu6"
    },
    {
        "date": 17,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 24,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/DAGnM1wM4t"
    },
    {
        "date": 27,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "äººé«”å£½å¸è–¯æ¢ç‚¸é›ç”œä¸è¾£",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/lmUDa0vVtv"
    },
    {
        "date": 29,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "æ‹˜ä¹…å±‹äººé«”ç››",
        "time": "18:00~22:00",
        "class": "jukuya",
        "category": "",
        "link": "https://x.com/jukuya456/status/1968191832627798419"
    },
    {
        "date": 14,
        "venue": "å…¶ä»–",
        "title": "è§¸å‹•å¸‚é›†",
        "time": "11:00~17:00",
        "class": "other",
        "category": "or",
        "link": "https://x.com/call_it_soul/status/1962911968265978046"
    },
    {
        "date": 15,
        "venue": "å…¶ä»–",
        "title": "è§¸å‹•å¸‚é›†",
        "time": "11:00~17:00",
        "class": "other",
        "category": "or",
        "link": "https://x.com/call_it_soul/status/1962911968265978046"
    }
];
        var octoberEvents = [
    {
        "date": 1,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/86ZoQzZHT9U655K29"
    },
    {
        "date": 4,
        "venue": "ç©å…·é–“",
        "title": "DS/SMèªçŸ¥èŠå¤©æœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/YHTFw1FoSnf8CUv7A"
    },
    {
        "date": 10,
        "venue": "ç©å…·é–“",
        "title": "åˆ¥é¤¨-House of Torment æŠ˜ç£¨ä¹‹å®¶",
        "time": "13:30~17:00",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/ViMUyjBbHNFDyDc17"
    },
    {
        "date": 11,
        "venue": "ç©å…·é–“",
        "title": "SPæ‹æ‰“äº¤æµæœƒ",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "sp",
        "link": "https://forms.gle/fcGB7SfJgG64QRrv8"
    },
    {
        "date": 15,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/Yt8pgLzN9sjGnR1GA"
    },
    {
        "date": 18,
        "venue": "ç©å…·é–“",
        "title": "åˆ¥é¤¨V.I.På°ˆå ´-Cosplayçš„ç•°æƒ³ä¸–ç•Œ",
        "time": "None~None",
        "class": "toyroom",
        "category": "ss",
        "link": "https://forms.gle/3mbodpF7e2CFaKSE7"
    },
    {
        "date": 24,
        "venue": "ç©å…·é–“",
        "title": "å¤œé–“æ”¾é£›æ—¥",
        "time": "19:00~22:00",
        "class": "toyroom",
        "category": "so",
        "link": "https://forms.gle/gxXUGL4vjYRHRqs16"
    },
    {
        "date": 26,
        "venue": "ç©å…·é–“",
        "title": "BDç©æ³•åŠé«”é©—Lv1",
        "time": "13:30~16:30",
        "class": "toyroom",
        "category": "bd",
        "link": "https://forms.gle/PTxYXxRbPLusdaMe6"
    },
    {
        "date": 10,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "çˆ¾å°¼ã„Ÿç·´ç¹©æ—¥ ft.EZA",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 18,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "é‚‚é€…è§’è½",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 20,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¹©æ—¥",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 24,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "é•åå‹•ä¿SPæ—¥",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "sp",
        "link": null
    },
    {
        "date": 30,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç·´ç¹©æ—¥",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "bds",
        "link": null
    },
    {
        "date": 31,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "æ–°æ‰‹å…¥åœˆèŠå¤©å®¤",
        "time": "19:00~22:00",
        "class": "zoo",
        "category": "so",
        "link": null
    },
    {
        "date": 19,
        "venue": "å‹•ç‰©æ–¹ç¨‹å¼",
        "title": "ç¹©ç¸›è¡¨æ¼”ã€ç¹©çµ†ã€‘",
        "time": "14:00~18:00",
        "class": "zoo",
        "category": "bds",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSdXguh1GRxzif0cPjO9fEmlPG5BxeA4CW2tJi1g6z-uT0OQ4Q/viewform"
    },
    {
        "date": 11,
        "venue": "æ›´è¡£é–“",
        "title": "SP äº¤æµæ—¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "sp",
        "link": "https://forms.gle/jSqn5VG2PP9kWwQH8"
    },
    {
        "date": 12,
        "venue": "æ›´è¡£é–“",
        "title": "é…’ç²¾æ—¥party night",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/chyyo5otwrXA9j7t6"
    },
    {
        "date": 18,
        "venue": "æ›´è¡£é–“",
        "title": "èŠèŠç™‚ç™‚ x æ™šé¤æ—¥",
        "time": "17:00~20:00",
        "class": "gengyiroom",
        "category": "so",
        "link": "https://forms.gle/QNygZThSRR5PFHXo7"
    },
    {
        "date": 19,
        "venue": "æ›´è¡£é–“",
        "title": "å¥³ç‹ ã® è¸©è¸æ—¥",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "ss",
        "link": "https://forms.gle/HRyqwxbEep19fcah7"
    },
    {
        "date": 25,
        "venue": "æ›´è¡£é–“",
        "title": "å°¿é“èª¿æ•™ å¾®é€²éš<å¥³ç”Ÿ> part2 å«è¡¨æ¼”ç¤ºç¯„",
        "time": "14:00~17:00",
        "class": "gengyiroom",
        "category": "wk",
        "link": "https://forms.gle/xcMzBCiTK4Sn5Ga1A"
    },
    {
        "date": 2,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 4,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "SPæ‹æ‹äº¤æµåˆ†äº«",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "sp",
        "link": "https://t.co/qO3W00CqqE"
    },
    {
        "date": 6,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "æ‹˜ä¹…å±‹ï½œäººå½¢å¯µç‰©ä¸­ç§‹åŒæ¨‚æœƒ",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/T8hIpk6slB"
    },
    {
        "date": 7,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 9,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 11,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "æ‹˜æŸçˆ¬è¡Œå¤§è³½",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/lSiQB6RZ84"
    },
    {
        "date": 15,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç©è€å®¶å¸¸æ—¥",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "so",
        "link": "https://t.co/yuORTP6VAT"
    },
    {
        "date": 17,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "æ’•è¥ª-æˆ€ç‰©ç››å®´ ft. Amber c.",
        "time": "19:00~22:00",
        "class": "jukuya",
        "category": "ss",
        "link": "https://t.co/94P9KEplSf"
    },
    {
        "date": 18,
        "venue": "æ‹˜ä¹…å±‹",
        "title": "ç¶ä¸€ç¶ï¼Œå°±ç†Ÿäº†",
        "time": "14:00~18:00",
        "class": "jukuya",
        "category": "bds",
        "link": "https://t.co/Z9DuLfdpDE"
    },
    {
        "date": 18,
        "venue": "å…¶ä»–",
        "title": "å°ä¸­ä¸»é¡Œå¼å‚¬çœ ç·´ç¿’æœƒ- å‡è¦–æ³•ğŸ‘€",
        "time": "14:00~17:00",
        "class": "other",
        "category": "hy",
        "link": "https://docs.google.com/forms/d/e/1FAIpQLSeQelCgIJ6rTuky98QQwTs5KC8ZIaq2c1eRkaxsw9ijbmDkHQ/viewform"
    }
];
        var novemberEvents = [];
        var decemberEvents = [];
        // EVENT_DATA_END

        // éš¨æ©Ÿå°æ¨™é¡ŒåŠŸèƒ½
        const randomTexts = ['SP', 'TK', 'å ±åæŠ˜ç£¨ä¹‹å®¶', 'ç¥ä¾†ä¸€å ´', 'æ‘¸æ‘¸è²´è³“å°å§', 'åƒé…¸èœé­š', 'æ•²æ•²ä»£ç¢¼', 'åœ¨ç‚¹ä¸€æ¬¡è¾²æ°‘æ›†', 'åƒåŠ æ´»å‹•', 'åè‘—', 'åƒé£¯', 'å¸¶æ‰‹éŠ¬', 'é¾œç”²ç¸›', 'æ‹·å•', 'å¾Œæ‰‹ç¸›', 'æ±ªæ±ªå«', 'æŠ±æŠ±', 'çœ‹é¬¼æ»…ä¹‹åˆƒ', 'æƒ…æ…¾å‚¬çœ ', 'å›å®¶', 'è·ŸPKç©', 'æ‰“æ¶', 'ç ´å£æ®º', 'åƒåŠ ç•°è‰²å¸‚é›†', 'æçˆ›Brat', 'åºœåŸå˜‰å¹´è¯', 'æ‹·å•', 'å»ç„¡é™åŸ', 'æŠ±æŠ±ç´«ç´«', 'ä¸çµ¦ç³–å°±æ—è›‹'];
        function updateRandomSubtitle() {
            const randomIndex = Math.floor(Math.random() * randomTexts.length);
            document.getElementById('randomSubtitle').textContent = `è¾²æ°‘æ›†èªªä»Šæ—¥å®œ${randomTexts[randomIndex]}`;
        }

        // é»æ“Šå°æ¨™é¡Œæ™‚æ›´æ–°å…§å®¹
        document.getElementById('randomSubtitle').addEventListener('click', updateRandomSubtitle);

        // éŒ¯èª¤ä¿®æ­£æç¤ºå½ˆçª—
        function showErrorCorrectionModal() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 3000;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 15px;
                text-align: center;
                max-width: 400px;
                margin: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            `;
            
            content.innerHTML = `
                <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.3rem;">éŒ¯èª¤ä¿®æ­£é€šçŸ¥</h3>
                <p style="color: #34495e; line-height: 1.5; margin-bottom: 20px;">
                    9/27çš„æ›´è¡£é–“æ´»å‹•åç¨±æœ‰éŒ¯èª¤ï¼Œç¾å·²æ›´æ–°å®Œæˆï¼Œé€ æˆä¸ä¾¿æ•¬è«‹è¦‹è«’ï¼ğŸ˜…
                </p>
                <button onclick="this.parentElement.parentElement.remove()" style="
                    background: linear-gradient(135deg, #3498db, #2980b9);
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-weight: bold;
                ">æˆ‘çŸ¥é“äº†</button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // é»æ“ŠèƒŒæ™¯é—œé–‰
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // å¹´é½¡é©—è­‰åŠŸèƒ½
        function confirmAge(isAdult) {
            if (isAdult) {
                // éš±è—å¹´é½¡é©—è­‰å½ˆçª—
                document.getElementById('ageVerificationModal').style.display = 'none';
                document.body.style.overflow = 'auto';
            } else {
                // è·³è½‰åˆ°Googleé¦–é 
                window.location.href = 'https://www.google.com';
            }
        }

        // æª¢æŸ¥æ˜¯å¦åœ¨æ›´æ–°å¾Œä¸‰å¤©å…§
        function isWithinUpdatePeriod() {
            // è‡ªå‹•è®€å–é é¢ä¸Šé¡¯ç¤ºçš„æœ€å¾Œæ›´æ–°æ—¥
            const updateText = document.querySelector('.header p').textContent;
            const dateMatch = updateText.match(/(\d{4})\.(\d{2})\.(\d{2})/);
            
            if (!dateMatch) return false;
            
            const updateDate = new Date(`${dateMatch[1]}-${dateMatch[2]}-${dateMatch[3]}`);
            const today = new Date();
            const diffTime = today.getTime() - updateDate.getTime();
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays >= 0 && diffDays <= 3;
        }

        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºå¹´é½¡é©—è­‰å½ˆçª—
        window.addEventListener('load', function() {
            document.body.style.overflow = 'hidden';
            document.getElementById('ageVerificationModal').style.display = 'flex';
            
            // æª¢æŸ¥æ˜¯å¦åœ¨æ›´æ–°å¾Œä¸‰å¤©å…§ï¼Œå¦‚æœæ˜¯å‰‡é¡¯ç¤ºæ›´æ–°æç¤º
            if (isWithinUpdatePeriod()) {
                const updateNotice = document.createElement('div');
                updateNotice.style.cssText = `
                    background: linear-gradient(135deg, #e74c3c, #c0392b);
                    color: white;
                    padding: 8px 15px;
                    border-radius: 20px;
                    font-size: 0.9rem;
                    font-weight: bold;
                    margin-bottom: 15px;
                    animation: bounce 1s ease-in-out;
                    display: inline-block;
                `;
                updateNotice.textContent = 'ğŸ‰ ç¶²ç«™æ›´æ–°å•¦ï¼';
                updateNotice.style.cursor = 'pointer';
                updateNotice.addEventListener('click', function() {
                    toggleUpdateInfo();
                    // é—œé–‰å¹´é½¡é©—è­‰å½ˆçª—
                    document.getElementById('ageVerificationModal').style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
                
                // æ·»åŠ å½ˆè·³å‹•ç•«
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes bounce {
                        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                        40% { transform: translateY(-10px); }
                        60% { transform: translateY(-5px); }
                    }
                `;
                document.head.appendChild(style);
                
                // å°‡æ›´æ–°æç¤ºæ’å…¥åˆ°æ¨™é¡Œä¹‹å‰
                const title = document.querySelector('.age-verification-title');
                title.parentNode.insertBefore(updateNotice, title);
            }
            
            // åˆå§‹åŒ–éš¨æ©Ÿå°æ¨™é¡Œ
            updateRandomSubtitle();

            // åˆå§‹åŒ–æ›´æ–°è³‡è¨Šæ‘ºç–Šé¡¯ç¤º
            setupUpdatesCollapsing();

            // åˆå§‹åŒ–åœ–ä¾‹æŠ˜ç–Šï¼ˆæ‰‹æ©Ÿé è¨­æ”¶åˆï¼‰
            setupLegendsCollapsible();
            applyLegendCollapseByViewport();

            // åˆå§‹åŒ–è¬è–ç¯€å¹½éˆè£é£¾ï¼ˆ10æœˆé¡¯ç¤ºï¼‰
            checkForHalloweenDecorations();
        });

        // Venue visibility state
        const venueVisibility = {
            jukuya: true,
            toyroom: true,
            gengyiroom: true,
            think: true,
            zoo: true,
            other: true
        };

        // Category visibility state
        const categoryVisibility = {
            sp: true,
            bd: true,
            bds: true,
            so: true,
            wk: true,
            ss: true,
            hy: true,
            or: true
        };

        // Category display names
        const categoryNames = {
            bd: 'æŸç¸›',
            bds: 'ç¹©ç¸›',
            hy: 'å‚¬çœ ',
            or: 'å…¶ä»–',
            so: 'äº¤æµ',
            sp: 'SP',
            ss: 'ç‰¹æ®Šä¸»é¡Œ',
            wk: 'å·¥ä½œåŠ',
        };

        // Category color gradients for event tags (match legend colors)
        const categoryColors = {
            bd: 'linear-gradient(135deg, #8e44ad, #9b59b6)',
            bds: 'linear-gradient(135deg, #d2b48c, #a67c52)',
            hy: 'linear-gradient(135deg, #ff8ab8, #ff5fa2)',
            or: 'linear-gradient(135deg, #7f8c8d, #95a5a6)',
            so: 'linear-gradient(135deg, #2ecc71, #27ae60)',
            sp: 'linear-gradient(135deg, #e74c3c, #c0392b)',
            ss: 'linear-gradient(135deg, #34495e, #2c3e50)',
            wk: 'linear-gradient(135deg, #f39c12, #e67e22)',
        };

        // Current month state
        let currentMonth = 0; // é è¨­å¾ç¬¬ä¸€å€‹æœˆä»½é–‹å§‹
        let monthNames = []; // å‹•æ…‹ç”Ÿæˆæœˆä»½åç¨±
        let monthEvents = []; // å‹•æ…‹æœˆä»½äº‹ä»¶é™£åˆ—

        // å‹•æ…‹ç”Ÿæˆæœˆä»½è³‡æ–™
        function generateMonthData() {
            monthNames = [];
            monthEvents = [];
            
            // å¾ window ç‰©ä»¶ä¸­æƒææ‰€æœ‰é¡ä¼¼ 'augustEvents' çš„è®Šæ•¸
            const allMonthEventVars = Object.keys(window).filter(key => key.endsWith('Events') && typeof window[key] === 'object' && Array.isArray(window[key]));
            
            console.log(`âœ… æ‰¾åˆ° ${allMonthEventVars.length} å€‹æœˆä»½è®Šæ•¸`);

            // æœˆä»½é †åºå°ç…§è¡¨
            const monthOrder = {
                'january': 1, 'february': 2, 'march': 3, 'april': 4,
                'may': 5, 'june': 6, 'july': 7, 'august': 8,
                'september': 9, 'october': 10, 'november': 11, 'december': 12
            };

            // æ ¹æ“šæœˆä»½å’Œå¹´ä»½æ’åº
            allMonthEventVars.sort((a, b) => {
                const aMonthName = a.replace('Events', '').toLowerCase();
                const bMonthName = b.replace('Events', '').toLowerCase();
                
                const aMonthNum = monthOrder[aMonthName];
                const bMonthNum = monthOrder[bMonthName];

                // å‡è¨­å¹´ä»½åœ¨è®Šæ•¸åç¨±ä¸­ä¸æ˜ç¢ºï¼Œä½†æˆ‘å€‘å¯ä»¥åœ¨ç”Ÿæˆæ™‚æŒ‡å®š
                // ç›®å‰ç°¡åŒ–è™•ç†ï¼Œåƒ…æŒ‰æœˆä»½æ’åº
                return aMonthNum - bMonthNum;
            });

            allMonthEventVars.forEach(monthVarName => {
                const monthName = monthVarName.replace('Events', '');
                // å‡è¨­å¹´ä»½æ˜¯ 2025ï¼Œå¦‚æœæœªä¾†éœ€è¦å‹•æ…‹å¹´ä»½ï¼Œéœ€è¦å¾å…¶ä»–åœ°æ–¹ç²å–
                const year = 2025; 
                const monthNum = monthOrder[monthName.toLowerCase()];
                if (monthNum) {
                    const fullMonthName = `${year}å¹´${monthNum}æœˆ`;
                    monthNames.push(fullMonthName);
                    monthEvents.push(window[monthVarName]);
                }
            });
        }

        // ç²å–ç•¶å‰æœˆä»½ç´¢å¼•
        function getCurrentMonthIndex() {
            const today = new Date();
            const currentYear = today.getFullYear();
            const currentMonth = today.getMonth() + 1; // JavaScript months are 0-based
            
            // åœ¨æœˆä»½é™£åˆ—ä¸­å°‹æ‰¾å°æ‡‰çš„æœˆä»½
            for (let i = 0; i < monthNames.length; i++) {
                const monthMatch = monthNames[i].match(/(\d{4})å¹´(\d{1,2})æœˆ/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    if (year === currentYear && month === currentMonth) {
                        return i;
                    }
                }
            }
            
            // å¦‚æœæ‰¾ä¸åˆ°ç•¶å‰æœˆä»½ï¼Œé è¨­é¡¯ç¤ºç¬¬ä¸€å€‹æœˆä»½
            return 0;
        }

        function toggleVenue(venueClass) {
            venueVisibility[venueClass] = !venueVisibility[venueClass];
            const checkbox = document.getElementById(venueClass + '-checkbox');
            checkbox.checked = venueVisibility[venueClass];
            
            // Regenerate all calendars with updated visibility
            monthEvents.forEach((events, index) => {
                const monthMatch = monthNames[index].match(/(\d{4})å¹´(\d{1,2})æœˆ/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    const calendarId = `calendar-${year}-${month}`;
                    generateCalendar(calendarId, events, year, month);
                }
            });
        }

        function toggleCategory(categoryClass) {
            categoryVisibility[categoryClass] = !categoryVisibility[categoryClass];
            const checkbox = document.getElementById(categoryClass + '-checkbox');
            checkbox.checked = categoryVisibility[categoryClass];
            
            // Regenerate all calendars with updated visibility
            monthEvents.forEach((events, index) => {
                const monthMatch = monthNames[index].match(/(\d{4})å¹´(\d{1,2})æœˆ/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    const calendarId = `calendar-${year}-${month}`;
                    generateCalendar(calendarId, events, year, month);
                }
            });
        }

        function getCurrentDate() {
            const today = new Date();
            return {
                month: today.getMonth() + 1, // JavaScript months are 0-based
                day: today.getDate()
            };
        }

        function isPastDate(day, month) {
            const today = getCurrentDate();
            if (month < today.month) return true;
            if (month === today.month && day < today.day) return true;
            return false;
        }

        function toggleUpdateInfo() {
            const updateInfo = document.getElementById('updateInfo');
            if (updateInfo.style.display === 'none' || updateInfo.style.display === '') {
                updateInfo.style.display = 'block';
            } else {
                updateInfo.style.display = 'none';
            }
        }

        // åƒ…é¡¯ç¤ºæœ€æ–°ä¸‰ç­†æ›´æ–°ï¼Œæä¾›å±•é–‹/æ”¶åˆ
        function setupUpdatesCollapsing() {
            const list = document.querySelector('.update-list');
            if (!list) return;

            const items = Array.from(list.querySelectorAll('.update-item'));
            if (items.length <= 3) {
                // ä¸è¶³ä¸‰ç­†ä¸é¡¯ç¤ºæŒ‰éˆ•
                const btn = document.getElementById('updatesToggleBtn');
                if (btn) btn.style.display = 'none';
                return;
            }

            // åˆå§‹éš±è—ç¬¬ä¸‰ç­†ä¹‹å¾Œçš„é …ç›®
            for (let i = 3; i < items.length; i++) {
                items[i].style.display = 'none';
            }

            const btn = document.getElementById('updatesToggleBtn');
            if (!btn) return;
            btn.style.display = 'inline-block';

            let expanded = false;
            btn.addEventListener('click', function() {
                expanded = !expanded;
                for (let i = 3; i < items.length; i++) {
                    items[i].style.display = expanded ? 'flex' : 'none';
                }
                btn.textContent = expanded ? 'æ”¶åˆæ›´æ–°è³‡è¨Š' : 'æ›´å¤šæ›´æ–°è³‡è¨Š';
            });
        }

        // æ‰‹æ©Ÿï¼šå ´åœ°èˆ‡åˆ†é¡æŠ˜ç–Šæ§åˆ¶
        function applyLegendCollapseByViewport() {
            const legend = document.querySelector('.legend');
            const categoryLegend = document.querySelector('.category-legend');
            const isMobile = window.innerWidth <= 768;
            if (legend) {
                if (isMobile) legend.classList.add('collapsed');
                else legend.classList.remove('collapsed');
            }
            if (categoryLegend) {
                if (isMobile) categoryLegend.classList.add('collapsed');
                else categoryLegend.classList.remove('collapsed');
            }
        }

        function setupLegendsCollapsible() {
            const legendContainer = document.querySelector('.legend');
            const categoryLegendContainer = document.querySelector('.category-legend');
            const legendTitle = document.querySelector('.legend-title');
            const categoryLegendTitle = document.querySelector('.category-legend-title');

            if (legendTitle && legendContainer) {
                legendTitle.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        legendContainer.classList.toggle('collapsed');
                    }
                });
            }

            if (categoryLegendTitle && categoryLegendContainer) {
                categoryLegendTitle.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        categoryLegendContainer.classList.toggle('collapsed');
                    }
                });
            }
        }

        function generateCalendar(containerId, events, year, month) {
            const calendar = document.getElementById(containerId);
            calendar.innerHTML = '';
            
            const daysOfWeek = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            
            // Add day headers
            daysOfWeek.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });

            // Calculate first day of month and days in month
            const firstDay = new Date(year, month - 1, 1).getDay();
            const daysInMonth = new Date(year, month, 0).getDate();
            
            // Add empty cells for previous month
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell other-month';
                calendar.appendChild(emptyCell);
            }

            // Add days of the month
            const today = getCurrentDate();
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'day-cell';
                
                // Check if today
                if (day === today.day && month === today.month) {
                    dayCell.classList.add('today');
                } else if (isPastDate(day, month)) {
                    dayCell.classList.add('past-day');
                }

                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = day;
                dayCell.appendChild(dayNumber);

                // Add events for this day and sort by start time
                const dayEvents = events.filter(event => {
                    const hasVenue = venueVisibility[event.class];
                    
                    // å¦‚æœæ´»å‹•æœ‰ category ä½†ä¸å­˜åœ¨æ–¼ categoryVisibility ä¸­ï¼Œè‡ªå‹•æ·»åŠ åˆ°æ‰€æœ‰é¡åˆ¥å®šç¾©
                    if (event.category && categoryVisibility[event.category] === undefined) {
                        categoryVisibility[event.category] = true;
                        if (!categoryNames[event.category]) {
                            categoryNames[event.category] = event.category.toUpperCase();
                        }
                        if (!categoryColors[event.category]) {
                            categoryColors[event.category] = 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                        }
                        console.log(`âš ï¸ è‡ªå‹•æ·»åŠ æ–°åˆ†é¡: ${event.category} (ä¾†è‡ªæ´»å‹•: ${event.title})`);
                    }
                    
                    const hasCategory = !event.category || categoryVisibility[event.category];
                    const showEvent = event.date === day && hasVenue && hasCategory;
                    return showEvent;
                });
                
                // Sort events by start time
                dayEvents.sort((a, b) => {
                    const getStartTime = (timeStr) => {
                        const normalized = (timeStr || '').replace(/ï¼š/g, ':');
                        const match = normalized.match(/(\d{1,2}):(\d{2})/);
                        if (match) {
                            return parseInt(match[1]) * 60 + parseInt(match[2]);
                        }
                        return 0;
                    };
                    return getStartTime(a.time) - getStartTime(b.time);
                });
                
                dayEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    const isPast = isPastDate(day, month);
                    eventDiv.className = `event ${event.class}${isPast ? ' past' : ''}`;
                    eventDiv.style.position = 'relative';
                    const neutralChip = `<span class="event-category-chip">${categoryNames[event.category] || 'å…¶ä»–'}</span>`;
                    eventDiv.innerHTML = `
                        <div class="event-venue">${event.venue} ${neutralChip}</div>
                        <div class="event-title">${event.title}</div>
                        <div class="event-time">${event.time}</div>
                        ${event.link && !isPast ? '<div class="register-icon">ğŸ”—</div>' : ''}
                    `;
                    
                    if (!isPast) {
                        eventDiv.addEventListener('click', () => showEventDetails(event, month));
                        // æ·»åŠ è§¸æ§å›é¥‹
                        eventDiv.addEventListener('touchstart', function() {
                            this.style.opacity = '0.7';
                        });
                        eventDiv.addEventListener('touchend', function() {
                            this.style.opacity = '1';
                        });
                    }
                    
                    dayCell.appendChild(eventDiv);
                });

                calendar.appendChild(dayCell);
            }
        }

        function showEventDetails(event, month) {
            const modal = document.getElementById('eventModal');
            const modalContent = document.getElementById('modalContent');
            
            const isPast = isPastDate(event.date, month);
            let linkButton = '';
            
            if (event.link) {
                if (isPast) {
                    linkButton = `<div class="register-button disabled">
                        âŒ› æ´»å‹•å·²çµæŸ
                    </div>`;
                } else {
                    const linkText = event.linkLabel ? event.linkLabel : 'å‰å¾€å ±å';
                    linkButton = `<a href="${event.link}" target="_blank" class="register-button">
                        ğŸ”— ${linkText}
                    </a>`;
                }
            } else if (!isPast) {
                linkButton = `<div class="register-button pending">
                    â³ å ±åè¡¨å–®æ•¬è«‹æœŸå¾…
                </div>`;
            }
            
            const monthName = String(month);
            const modalCategoryStyle = categoryColors[event.category] || 'linear-gradient(135deg, #bdc3c7, #95a5a6)';
            const categoryTag = `<div class="event-category-tag" style="background: ${modalCategoryStyle}">${categoryNames[event.category] || 'å…¶ä»–'}</div>`;
            
            modalContent.innerHTML = `
                <h2 style="color: ${isPast ? '#999' : '#2c3e50'}; margin-bottom: 8px; font-size: 1.3rem;">${event.venue}</h2>
                <h3 style="color: ${isPast ? '#aaa' : '#34495e'}; margin-bottom: 12px; font-size: 1.1rem;">${event.title}${isPast ? ' (å·²çµæŸ)' : ''}</h3>
                ${categoryTag}
                <p style="margin-bottom: 6px; font-size: 0.95rem; color: ${isPast ? '#999' : 'inherit'};"><strong>æ—¥æœŸï¼š</strong>${monthName}æœˆ${event.date}æ—¥</p>
                <p style="margin-bottom: 12px; font-size: 0.95rem; color: ${isPast ? '#999' : 'inherit'};"><strong>æ™‚é–“ï¼š</strong>${event.time}</p>
                ${linkButton}
            `;
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('eventModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function changeMonth(direction) {
            currentMonth += direction;
            
            // Limit to available months (å‹•æ…‹é™åˆ¶)
            if (currentMonth < 0) currentMonth = 0;
            if (currentMonth >= monthNames.length) currentMonth = monthNames.length - 1;
            
            updateCalendarView();
        }

        function updateCalendarView() {
            const slider = document.getElementById('calendarSlider');
            const monthTitle = document.getElementById('monthTitle');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Update slider position
            slider.style.transform = `translateX(-${currentMonth * 100}%)`;
            
            // Update month title
            monthTitle.textContent = monthNames[currentMonth];
            
            // Update button states
            prevBtn.disabled = currentMonth === 0;
            nextBtn.disabled = currentMonth === monthNames.length - 1;
            
            // å‹•æ…‹èª¿æ•´æ—¥æ›†å®¹å™¨é«˜åº¦
            adjustCalendarHeight();
        }

        function adjustCalendarHeight() {
            const calendarContainer = document.getElementById('calendarContainer');
            const calendarSlider = document.querySelector('.calendar-slider');
            const calendarMonths = document.querySelectorAll('.calendar-month');
            
            if (calendarMonths.length > 0) {
                const isMobile = window.innerWidth <= 768;
                const isSmallMobile = window.innerWidth <= 480;
                
                // æ ¹æ“šè¢å¹•å°ºå¯¸è¨­å®šæœ€å°é«˜åº¦
                let minHeight;
                if (isSmallMobile) {
                    minHeight = 450;
                } else if (isMobile) {
                    minHeight = 500;
                } else {
                    minHeight = 600;
                }
                
                // ç‚ºæ¯å€‹æœˆä»½å–®ç¨è¨ˆç®—å’Œè¨­å®šé«˜åº¦
                calendarMonths.forEach((month, index) => {
                    const calendarGrid = month.querySelector('.calendar-grid');
                    if (calendarGrid) {
                        const gridHeight = calendarGrid.scrollHeight;
                        const monthHeight = Math.max(gridHeight + 20, minHeight);
                        month.style.minHeight = monthHeight + 'px';
                    }
                });
                
                // ç²å–ç•¶å‰é¡¯ç¤ºæœˆä»½çš„é«˜åº¦
                const currentMonthElement = calendarMonths[currentMonth];
                if (currentMonthElement) {
                    const currentMonthHeight = currentMonthElement.style.minHeight || minHeight + 'px';
                    const currentHeight = parseInt(currentMonthHeight);
                    
                    // å¼·åˆ¶è¨­å®šå®¹å™¨å’Œæ»‘å‹•å™¨çš„é«˜åº¦ç‚ºç•¶å‰æœˆä»½çš„é«˜åº¦
                    calendarContainer.style.minHeight = currentHeight + 'px';
                    calendarContainer.style.height = currentHeight + 'px';
                    calendarSlider.style.minHeight = currentHeight + 'px';
                    calendarSlider.style.height = currentHeight + 'px';
                } else {
                    // å¦‚æœæ‰¾ä¸åˆ°ç•¶å‰æœˆä»½ï¼Œä½¿ç”¨æœ€å°é«˜åº¦
                    calendarContainer.style.minHeight = minHeight + 'px';
                    calendarContainer.style.height = minHeight + 'px';
                    calendarSlider.style.minHeight = minHeight + 'px';
                    calendarSlider.style.height = minHeight + 'px';
                }
            }
        }

        // Touch handling for mobile swipe
        let startX = 0;
        let startY = 0;
        let isScrolling = false;

        document.getElementById('calendarContainer').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
            isScrolling = false;
        }, { passive: true });

        document.getElementById('calendarContainer').addEventListener('touchmove', function(e) {
            if (!isScrolling) {
                const deltaX = Math.abs(e.touches[0].clientX - startX);
                const deltaY = Math.abs(e.touches[0].clientY - startY);
                
                if (deltaY > deltaX) {
                    isScrolling = true;
                } else if (deltaX > 10) {
                    e.preventDefault();
                }
            }
        }, { passive: false });

        document.getElementById('calendarContainer').addEventListener('touchend', function(e) {
            if (!isScrolling) {
                const deltaX = e.changedTouches[0].clientX - startX;
                
                if (Math.abs(deltaX) > 50) {
                    if (deltaX > 0 && currentMonth > 0) {
                        changeMonth(-1);
                    } else if (deltaX < 0 && currentMonth < monthNames.length - 1) {
                        changeMonth(1);
                    }
                }
            }
        }, { passive: true });

        // Modal close functionality
        document.querySelector('.close').addEventListener('click', closeModal);

        window.addEventListener('click', function(event) {
            const modal = document.getElementById('eventModal');
            if (event.target === modal) {
                closeModal();
            }
        });

        // æ·»åŠ è§¸æ§æ”¯æ´
        document.querySelector('.close').addEventListener('touchend', function(e) {
            e.preventDefault();
            closeModal();
        });

        // é˜²æ­¢æ¨¡æ…‹æ¡†å…§å®¹é»æ“Šæ™‚é—œé–‰
        document.querySelector('.modal-content').addEventListener('click', function(e) {
            e.stopPropagation();
        });

        // ä¸»è¾¦æ–¹ç¶²ç«™é€£çµå‡½æ•¸
        function openVenueWebsite(venue, event) {
            event.stopPropagation(); // é˜²æ­¢è§¸ç™¼çˆ¶å…ƒç´ çš„é»æ“Šäº‹ä»¶
            
            const venueUrls = {
                'jukuya': 'https://x.com/jukuya456',
                'toyroom': 'https://studiobondage.com/?fbclid=IwY2xjawMjGPRleHRuA2FlbQIxMABicmlkETFnSVc1dTRqaEY1elhTZTlRAR7xJ86EgSLcXp4AlX15ulnYKMmKIctTZaT7-2H7bh7nmcmKEkoLP1f9dexZ4w_aem_XXSM0oPn7ZBCX0AL4u_dWg',
                'gengyiroom': 'https://x.com/gengyiroom',
                'think': 'https://x.com/s9808191779632',
                'zoo': 'https://x.com/16fnzoo'
            };
            
            const url = venueUrls[venue];
            if (url) {
                window.open(url, '_blank');
            }
        }

        // å‹•æ…‹æ›´æ–°é¡åˆ¥åœ–ä¾‹
        function updateCategoryLegend() {
            const categoryLegendContainer = document.querySelector('.category-legend-items');
            if (!categoryLegendContainer) return;
            
            // æ”¶é›†æ‰€æœ‰å·²å­˜åœ¨çš„é¡åˆ¥
            const existingCategories = new Set(Object.keys(categoryVisibility));
            
            // æƒææ‰€æœ‰æ´»å‹•ï¼Œæ‰¾å‡ºæ–°é¡åˆ¥
            monthEvents.forEach(events => {
                events.forEach(event => {
                    if (event.category && !existingCategories.has(event.category)) {
                        existingCategories.add(event.category);
                        // è‡ªå‹•æ·»åŠ æ–°é¡åˆ¥
                        categoryVisibility[event.category] = true;
                        if (!categoryNames[event.category]) {
                            categoryNames[event.category] = event.category.toUpperCase();
                        }
                        if (!categoryColors[event.category]) {
                            categoryColors[event.category] = 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                        }
                        console.log(`ğŸ†• ç™¼ç¾æ–°åˆ†é¡ä¸¦è‡ªå‹•æ·»åŠ : ${event.category}`);
                    }
                });
            });
            
            // é‡æ–°ç”Ÿæˆé¡åˆ¥åœ–ä¾‹
            categoryLegendContainer.innerHTML = '';
            Object.keys(categoryVisibility).sort().forEach(categoryCode => {
                const categoryItem = document.createElement('div');
                categoryItem.className = 'category-legend-item';
                categoryItem.setAttribute('data-category', categoryCode);
                categoryItem.onclick = () => toggleCategory(categoryCode);
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'category-checkbox';
                checkbox.id = `${categoryCode}-checkbox`;
                checkbox.checked = categoryVisibility[categoryCode];
                checkbox.onclick = (e) => {
                    e.stopPropagation();
                    toggleCategory(categoryCode);
                };
                
                const colorDiv = document.createElement('div');
                colorDiv.className = 'category-color';
                colorDiv.style.background = categoryColors[categoryCode] || 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                
                const nameSpan = document.createElement('span');
                nameSpan.textContent = categoryNames[categoryCode] || categoryCode.toUpperCase();
                
                categoryItem.appendChild(checkbox);
                categoryItem.appendChild(colorDiv);
                categoryItem.appendChild(nameSpan);
                categoryLegendContainer.appendChild(categoryItem);
            });
        }

        // åˆå§‹åŒ–æ—¥æ›†ç³»çµ±
        function initializeCalendars() {
            // å‹•æ…‹ç”Ÿæˆæœˆä»½è³‡æ–™
            generateMonthData();
            
            // æ›´æ–°é¡åˆ¥åœ–ä¾‹ï¼ˆæƒææ‰€æœ‰æ´»å‹•çš„é¡åˆ¥ï¼‰
            updateCategoryLegend();
            
            // å‹•æ…‹ç”Ÿæˆæ‰€æœ‰æ—¥æ›†å®¹å™¨å’Œå…§å®¹
            const calendarSlider = document.getElementById('calendarSlider');
            
            if (!calendarSlider) {
                console.error('âŒ æ‰¾ä¸åˆ° calendarSlider å…ƒç´ ï¼');
                return;
            }
            
            calendarSlider.innerHTML = ''; // æ¸…ç©ºç¾æœ‰å…§å®¹
            
            // ç‚ºæ¯å€‹æœˆä»½å‰µå»ºå®¹å™¨ä¸¦ç”Ÿæˆæ—¥æ›†
            monthEvents.forEach((events, index) => {
                // å¾æœˆä»½åç¨±ä¸­æå–å¹´ä»½å’Œæœˆä»½æ•¸å­—
                const monthMatch = monthNames[index].match(/(\d{4})å¹´(\d{1,2})æœˆ/);
                if (monthMatch) {
                    const year = parseInt(monthMatch[1]);
                    const month = parseInt(monthMatch[2]);
                    
                    // å‰µå»ºæœˆä»½å®¹å™¨
                    const monthDiv = document.createElement('div');
                    monthDiv.className = 'calendar-month';
                    monthDiv.id = `month-${year}-${month}`;
                    
                    // å‰µå»ºæ—¥æ›†ç¶²æ ¼å®¹å™¨
                    const calendarGrid = document.createElement('div');
                    calendarGrid.className = 'calendar-grid';
                    calendarGrid.id = `calendar-${year}-${month}`;
                    
                    monthDiv.appendChild(calendarGrid);
                    calendarSlider.appendChild(monthDiv);
                    
                    // ç”Ÿæˆè©²æœˆä»½çš„æ—¥æ›†
                    generateCalendar(calendarGrid.id, events, year, month);
                } else {
                    console.warn(`âš ï¸ ç„¡æ³•è§£ææœˆä»½åç¨±: ${monthNames[index]}`);
                }
            });
            
            // è¨­å®šç•¶å‰æœˆä»½ç‚ºç•¶å¤©æ‰€åœ¨çš„æœˆä»½
            currentMonth = getCurrentMonthIndex();
            
            updateCalendarView();
        }

        // Prevent checkbox from toggling when clicked directly
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.venue-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const venueClass = this.id.replace('-checkbox', '');
                    toggleVenue(venueClass);
                });
            });
            
            // é¡åˆ¥è¤‡é¸æ¡†çš„äº‹ä»¶ç¶å®šåœ¨ updateCategoryLegend() ä¸­å‹•æ…‹è™•ç†
            
            // åœ¨ DOM åŠ è¼‰å®Œæˆå¾Œåˆå§‹åŒ–æ—¥æ›†
            initializeCalendars();
        });
        
        // ç¢ºä¿æ—¥æ›†ç”Ÿæˆå¾Œç«‹å³èª¿æ•´é«˜åº¦
        setTimeout(adjustCalendarHeight, 100);
        setTimeout(adjustCalendarHeight, 500);

        // å„ªåŒ–è§¸æ§é«”é©—
        if ('ontouchstart' in window) {
            document.body.classList.add('touch-device');
        }

        // ç›£è½è¦–çª—å¤§å°æ”¹è®Šï¼Œé‡æ–°èª¿æ•´æ—¥æ›†é«˜åº¦
        window.addEventListener('resize', function() {
            applyLegendCollapseByViewport();
            setTimeout(adjustCalendarHeight, 100);
        });

        // é é¢è¼‰å…¥å®Œæˆå¾Œèª¿æ•´é«˜åº¦
        window.addEventListener('load', function() {
            setTimeout(adjustCalendarHeight, 200);
        });

        // =====================
        // è¬è–ç¯€å¹½éˆè£é£¾ï¼ˆå…¨è¢å¹•äº‚ç§»å‹•ï¼‹æ·¡å…¥æ·¡å‡ºï¼‰
        // =====================
        function createHalloweenDecorations() {
            const decorationsContainer = document.getElementById('halloweenDecorations');
            if (!decorationsContainer) return;

            // æ¸…ç©º
            decorationsContainer.innerHTML = '';

            const decorations = [
                { emoji: 'ğŸ‘»', class: 'ghost', count: 5 }
            ];

            decorations.forEach(decoration => {
                for (let i = 0; i < decoration.count; i++) {
                    const element = document.createElement('div');
                    element.className = `halloween-decoration ${decoration.class}`;
                    element.textContent = decoration.emoji;

                    // éš¨æ©Ÿåˆå§‹ä½ç½®èˆ‡å»¶é²
                    element.style.top = Math.random() * 80 + 10 + '%';
                    element.style.left = Math.random() * 80 + 10 + '%';
                    element.style.animationDelay = (Math.random() * 2) + 's';

                    decorationsContainer.appendChild(element);
                }
            });

            function moveGhostsRandomly() {
                const ghosts = decorationsContainer.querySelectorAll('.ghost');
                ghosts.forEach((g) => {
                    const toX = Math.random() * 100; // vw
                    const toY = Math.random() * 100; // vh
                    const scale = 0.8 + Math.random() * 0.6;
                    const rotate = (Math.random() * 20 - 10);
                    const duration = 4 + Math.random() * 4; // 4~8s

                    g.style.transitionDuration = duration + 's, ' + Math.max(2, duration - 1) + 's';
                    g.style.opacity = Math.random() > 0.5 ? 0.9 : 0.5;
                    g.style.transform = `translate(${toX}vw, ${toY}vh) scale(${scale}) rotate(${rotate}deg)`;
                });
            }

            moveGhostsRandomly();
            setInterval(moveGhostsRandomly, 5000);
        }

        function checkForHalloweenDecorations() {
            const today = new Date();
            const currentMonth = today.getMonth() + 1;
            if (currentMonth === 10) {
                createHalloweenDecorations();
            }
        }

        // =====================
        // ç¥ä¾†ä¸€å ´ï¼šéš¨æ©ŸæŒ‘é¸æœªä¾†æ´»å‹•ï¼ˆä¸å«ä»Šå¤©ï¼Œå°Šé‡å ´åœ°èˆ‡åˆ†é¡ç¯©é¸ï¼‰
        // =====================
        function triggerRandomEvent() {
            const btn = document.querySelector('.floating-random-button .random-button');
            if (!btn) return;
            // è‹¥å·²åœ¨æŠ½é¸ä¸­ï¼Œé¿å…é‡å…¥
            if (btn.classList.contains('disabled')) return;

            // é€²å…¥æŠ½é¸ï¼šåœç”¨æŒ‰éˆ• + é¡¯ç¤ºé®ç½©å‹•ç•«
            btn.classList.add('disabled');
            btn.setAttribute('aria-busy', 'true');

            const overlay = document.createElement('div');
            overlay.className = 'random-overlay';
            overlay.innerHTML = '<div class="random-dice">ğŸ²</div>';
            document.body.appendChild(overlay);

            const finish = (action) => {
                try { action && action(); } catch (_) {}
                // é—œé–‰å‹•ç•«ä¸¦æ¢å¾©æŒ‰éˆ•
                if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
                btn.classList.remove('disabled');
                btn.removeAttribute('aria-busy');
            };

            try {
                const today = getCurrentDate();

                // æ”¶é›†å„æœˆä»½çš„æ´»å‹•èˆ‡æœˆä»½æ•¸å­—
                const pools = [];
                const addEvents = (events, monthNum) => {
                    if (!Array.isArray(events)) return;
                    events.forEach(ev => {
                        // éå»æ´»å‹•æ’é™¤ï¼Œä»¥åŠæ’é™¤ç•¶å¤©
                        if (!isPastDate(ev.date, monthNum) && !(monthNum === today.month && ev.date === today.day)) {
                            // å°Šé‡ç›®å‰åœ–ä¾‹ç¯©é¸ç‹€æ…‹
                            if (venueVisibility[ev.class] && categoryVisibility[ev.category]) {
                                pools.push({ event: ev, month: monthNum });
                            }
                        }
                    });
                };

                // ç›®å‰å·²å®£å‘Šæœˆä»½ï¼š8ã€9ã€10
                addEvents(augustEvents, 8);
                addEvents(septemberEvents, 9);
                addEvents(octoberEvents, 10);

                // å‹•ç•«æ’­æ”¾ä¸€æ®µæ™‚é–“å¾Œå†é¡¯ç¤ºçµæœ
                const ANIMATION_MS = 1600; // 1.6s è¦–è¦ºå»¶é²
                setTimeout(() => {
                    if (pools.length === 0) {
                        finish(() => alert('ç›®å‰æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„æœªä¾†æ´»å‹•å¯æŠ½é¸ã€‚'));
                        return;
                    }

                    const idx = Math.floor(Math.random() * pools.length);
                    const picked = pools[idx];
                    finish(() => showEventDetails(picked.event, picked.month));
                }, ANIMATION_MS);
            } catch (e) {
                console.error('triggerRandomEvent ç™¼ç”ŸéŒ¯èª¤ï¼š', e);
                finish(() => alert('æŠ½é¸æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚'));
            }
        }
    </script>
</body>
</html>
            